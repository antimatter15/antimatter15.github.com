<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" href="http://localhost:8080/feed.xml" type="application/rss+xml" title="somewhere to talk about ideas and projects and stuff like everyone else">
    <link rel="stylesheet" href="/style/main.css">
    <title>#bookmarklet</title>
  </head>
  <body>
    <div class="whitebox">
      <div class="graybar top">
        <header class="top">
          <div class="slogan">somewhere to talk about random ideas and projects like everyone else</div><a href="/">
            <h1 class="logo">
              stuff
               <span class="byline">by antimatter15</span>
            </h1></a>
        </header>
      </div>
      <div id="main">
        <div class="sidebar">
          <div class="about">
            <p class="emph">
              Hi. I’m <b>Kevin Kwok</b>, and I’m currently a sophomore at <b>MIT</b>, 
              and this is my obligatory online presence or whatever.  
            </p>
            <p>
              I regularly updated this site from 2007, when I started it in elementary school, 
              to summer 2014, when it was unwittingly absorbed into an international phishing ring.
            </p>
            <p>
              But like a phoenix, hydra or the national deficit, the site is back 
              again bigger than ever (after a rather long gestation period).
            </p>
            <p>
              For more obnoxious autobiographical content 
              blended with bits of nostalgia for the old PHP-on-sketchy-free-webhosting days, <a href="/about/">click here.</a>
            </p>
          </div><br>
          <section class="archive"><a href="/archive">
              <h2>Archive</h2></a>
            <ul>
              <li>
                <ul>
                  <li><a href="/2015/05"><span class="month">May</span> <span class="year">2015</span></a></li>
                  <li><a href="/2015/04"><span class="month">April</span> <span class="year">2015</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2014/12"><span class="month">December</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/07"><span class="month">July</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/06"><span class="month">June</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/05"><span class="month">May</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/04"><span class="month">April</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/03"><span class="month">March</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/02"><span class="month">February</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/01"><span class="month">January</span> <span class="year">2014</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2013/12"><span class="month">December</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/11"><span class="month">November</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/10"><span class="month">October</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/09"><span class="month">September</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/08"><span class="month">August</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/07"><span class="month">July</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/06"><span class="month">June</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/05"><span class="month">May</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/04"><span class="month">April</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/03"><span class="month">March</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/02"><span class="month">February</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/01"><span class="month">January</span> <span class="year">2013</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2012/12"><span class="month">December</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/11"><span class="month">November</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/10"><span class="month">October</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/09"><span class="month">September</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/08"><span class="month">August</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/07"><span class="month">July</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/06"><span class="month">June</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/05"><span class="month">May</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/04"><span class="month">April</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/03"><span class="month">March</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/02"><span class="month">February</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/01"><span class="month">January</span> <span class="year">2012</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2011/12"><span class="month">December</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/11"><span class="month">November</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/10"><span class="month">October</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/09"><span class="month">September</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/08"><span class="month">August</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/07"><span class="month">July</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/06"><span class="month">June</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/05"><span class="month">May</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/04"><span class="month">April</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/03"><span class="month">March</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/02"><span class="month">February</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/01"><span class="month">January</span> <span class="year">2011</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2010/12"><span class="month">December</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/11"><span class="month">November</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/10"><span class="month">October</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/09"><span class="month">September</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/08"><span class="month">August</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/07"><span class="month">July</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/06"><span class="month">June</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/05"><span class="month">May</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/04"><span class="month">April</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/03"><span class="month">March</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/02"><span class="month">February</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/01"><span class="month">January</span> <span class="year">2010</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2009/12"><span class="month">December</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/11"><span class="month">November</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/10"><span class="month">October</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/09"><span class="month">September</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/08"><span class="month">August</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/07"><span class="month">July</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/06"><span class="month">June</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/05"><span class="month">May</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/04"><span class="month">April</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/03"><span class="month">March</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/01"><span class="month">January</span> <span class="year">2009</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2008/12"><span class="month">December</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/11"><span class="month">November</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/10"><span class="month">October</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/09"><span class="month">September</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/08"><span class="month">August</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/07"><span class="month">July</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/06"><span class="month">June</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/05"><span class="month">May</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/04"><span class="month">April</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/01"><span class="month">January</span> <span class="year">2008</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2007/12"><span class="month">December</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/11"><span class="month">November</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/10"><span class="month">October</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/09"><span class="month">September</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/08"><span class="month">August</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/05"><span class="month">May</span> <span class="year">2007</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2006/09"><span class="month">September</span> <span class="year">2006</span></a></li>
                  <li><a href="/2006/08"><span class="month">August</span> <span class="year">2006</span></a></li>
                </ul><br>
              </li>
            </ul>
          </section>
          <div class="tags">
            <h2>Tags</h2><a href="/tag/3D" style="font-size: 13px">3D </a><a href="/tag/actionscript" style="font-size: 11px">actionscript </a><a href="/tag/ajax" style="font-size: 20px">ajax </a><a href="/tag/ajax animator" style="font-size: 20px">ajax animator </a><a href="/tag/animation" style="font-size: 11px">animation </a><a href="/tag/api" style="font-size: 13px">api </a><a href="/tag/apple" style="font-size: 20px">apple </a><a href="/tag/art" style="font-size: 11px">art </a><a href="/tag/awesome" style="font-size: 13px">awesome </a><a href="/tag/blog" style="font-size: 19px">blog </a><a href="/tag/browser" style="font-size: 20px">browser </a><a href="/tag/bugfix" style="font-size: 15px">bugfix </a><a href="/tag/canvas" style="font-size: 15px">canvas </a><a href="/tag/change" style="font-size: 15px">change </a><a href="/tag/chrome" style="font-size: 20px">chrome </a><a href="/tag/chrome os" style="font-size: 11px">chrome os </a><a href="/tag/code" style="font-size: 13px">code </a><a href="/tag/color" style="font-size: 11px">color </a><a href="/tag/colors" style="font-size: 11px">colors </a><a href="/tag/css" style="font-size: 11px">css </a><a href="/tag/demo" style="font-size: 11px">demo </a><a href="/tag/design" style="font-size: 19px">design </a><a href="/tag/elitist" style="font-size: 20px">elitist </a><a href="/tag/evil" style="font-size: 19px">evil </a><a href="/tag/experiment" style="font-size: 15px">experiment </a><a href="/tag/export" style="font-size: 11px">export </a><a href="/tag/extension" style="font-size: 20px">extension </a><a href="/tag/ExtJS" style="font-size: 20px">ExtJS </a><a href="/tag/fast" style="font-size: 20px">fast </a><a href="/tag/features" style="font-size: 15px">features </a><a href="/tag/firefox" style="font-size: 20px">firefox </a><a href="/tag/flash" style="font-size: 17px">flash </a><a href="/tag/function" style="font-size: 13px">function </a><a href="/tag/future" style="font-size: 15px">future </a><a href="/tag/GAE" style="font-size: 13px">GAE </a><a href="/tag/github" style="font-size: 15px">github </a><a href="/tag/google" style="font-size: 20px">google </a><a href="/tag/google code" style="font-size: 11px">google code </a><a href="/tag/google wave" style="font-size: 20px">google wave </a><a href="/tag/graphics" style="font-size: 15px">graphics </a><a href="/tag/hacking" style="font-size: 11px">hacking </a><a href="/tag/history" style="font-size: 11px">history </a><a href="/tag/hosting" style="font-size: 19px">hosting </a><a href="/tag/html5" style="font-size: 19px">html5 </a><a href="/tag/idea" style="font-size: 13px">idea </a><a href="/tag/image" style="font-size: 11px">image </a><a href="/tag/images" style="font-size: 11px">images </a><a href="/tag/internet exploder" style="font-size: 20px">internet exploder </a><a href="/tag/ipad" style="font-size: 17px">ipad </a><a href="/tag/javascript" style="font-size: 20px">javascript </a><a href="/tag/json" style="font-size: 15px">json </a><a href="/tag/library" style="font-size: 11px">library </a><a href="/tag/lines" style="font-size: 13px">lines </a><a href="/tag/linux" style="font-size: 17px">linux </a><a href="/tag/login" style="font-size: 15px">login </a><a href="/tag/magical" style="font-size: 15px">magical </a><a href="/tag/meta" style="font-size: 13px">meta </a><a href="/tag/microsoft" style="font-size: 15px">microsoft </a><a href="/tag/microwave" style="font-size: 15px">microwave </a><a href="/tag/mirror" style="font-size: 11px">mirror </a><a href="/tag/mp3" style="font-size: 11px">mp3 </a><a href="/tag/multitouch" style="font-size: 13px">multitouch </a><a href="/tag/new" style="font-size: 19px">new </a><a href="/tag/nostalgia" style="font-size: 11px">nostalgia </a><a href="/tag/ocr" style="font-size: 11px">ocr </a><a href="/tag/offline" style="font-size: 17px">offline </a><a href="/tag/old" style="font-size: 17px">old </a><a href="/tag/onlypaths" style="font-size: 17px">onlypaths </a><a href="/tag/pi" style="font-size: 19px">pi </a><a href="/tag/player" style="font-size: 11px">player </a><a href="/tag/processing" style="font-size: 11px">processing </a><a href="/tag/progress" style="font-size: 11px">progress </a><a href="/tag/prototype" style="font-size: 13px">prototype </a><a href="/tag/python" style="font-size: 20px">python </a><a href="/tag/raphael" style="font-size: 19px">raphael </a><a href="/tag/release" style="font-size: 13px">release </a><a href="/tag/rewrite" style="font-size: 13px">rewrite </a><a href="/tag/security" style="font-size: 15px">security </a><a href="/tag/shiny" style="font-size: 20px">shiny </a><a href="/tag/ShinyTouch" style="font-size: 13px">ShinyTouch </a><a href="/tag/simple" style="font-size: 11px">simple </a><a href="/tag/site" style="font-size: 13px">site </a><a href="/tag/small" style="font-size: 20px">small </a><a href="/tag/speed" style="font-size: 11px">speed </a><a href="/tag/SVG" style="font-size: 15px">SVG </a><a href="/tag/text" style="font-size: 11px">text </a><a href="/tag/touch" style="font-size: 13px">touch </a><a href="/tag/update" style="font-size: 20px">update </a><a href="/tag/upload" style="font-size: 17px">upload </a><a href="/tag/user interface" style="font-size: 11px">user interface </a><a href="/tag/vector" style="font-size: 13px">vector </a><a href="/tag/vectoreditor" style="font-size: 19px">vectoreditor </a><a href="/tag/version" style="font-size: 13px">version </a><a href="/tag/video" style="font-size: 15px">video </a><a href="/tag/vp8" style="font-size: 11px">vp8 </a><a href="/tag/vX JS" style="font-size: 19px">vX JS </a><a href="/tag/wave" style="font-size: 20px">wave </a><a href="/tag/wikify" style="font-size: 20px">wikify </a><a href="/tag/wikipedia" style="font-size: 17px">wikipedia </a><a href="/tag/wordpress" style="font-size: 20px">wordpress </a>
          </div>
        </div>
        <div id="content">
          <h1>#bookmarklet</h1>
          <article class="article intro">
            <header>
              <h2><a href="/2010/07/fluidizer-fixed-width-fluid-width-bookmarklet/">Fluidizer fixed width → fluid width bookmarklet</a> <span class="subtitle">14 July 2010</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_014.png"><div class="pic md" style="" ><img alt=""  src="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_014-300x204.png" ><div class="caption">Fluidizered</div></div></a> Yaay, fluid&nbsp;width!</p>
<p><a href="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_013.png"><div class="pic md" style="" ><img alt=""  src="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_013-300x204.png" ><div class="caption">Fixed Width</div></div></a> I <span class="caps">IZ</span> NOM NOMMING ON HALF UR&nbsp;PIXELZ</p>
<p>This is another old one, something I made february fifteenth of this&nbsp;year.</p>
<p>One of the purely theoretical things that have always annoyed me, were fixed width themes. Because I <em>love</em> being a hypocrite, this blog right now is using a<a href="http://blog.carringtontheme.com/"> fixed width theme</a>. Though I probably could make up an excuse, like to serve as a decent test case for Fluidizer in part of my grand scheme detailed via embedded <a href="/2010/07/fluidizer-fixed-width-fluid-width-bookmarklet/2010/06/steganography-in-javascript/">steganographic</a> messages inside all of my screenshots. Of course that’s all a lie (however much I would like&nbsp;otherwise).</p>
<p>It’s always bothered me how some web sites have these fixed-width layouts, sometimes with insanely thin boxes allocated to content. The vast majority of my screen becomes this orange blob of text. Chrome’s visual appearance motto is “Content not chrome”. That doesn’t help if the content is being obscured by the presentation of the content (<a href="http://en.wikipedia.org/wiki/Gopher_(protocol">gopher</a>) might have solved that problem). Less chrome just means my eyes start to drown in +/- 1,732,405 pixels of orange. Even outside the extreme case, having a fixed-width layout isn’t efficient, and using something like <a href="http://lab.arc90.com/experiments/readability/">Readability</a> to <em>only</em> show the content removes the personality of the site or author, and only works on&nbsp;articles.</p>
<p>Fluidizer automatically resizes themes semi-pseudo-intelligently, and works with a lot of themes. It has several algorithms it uses, which are sort of alchemy-like and strange. I have no clue how it works, but there’s lots of strange stuff that goes on to magically do stuff. I think it even somehow has a <span class="caps">CSS</span> parser that uses CORS to load css through a server-side&nbsp;proxy.</p>
<p>Only tested in Chrome:&nbsp;[Fluidize]</p>
<pre><code><span style='display:none' detected-language='haxe'></span>javascript:(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">return</span>(a||<span class="hljs-string">""</span>).replace(/^\s+|\s+$/g,<span class="hljs-string">""</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span><span class="hljs-params">(a,g)</span></span>{<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">new</span> XMLHttpRequest;b.open(<span class="hljs-string">"<span class="caps">GET</span>"</span>,<span class="hljs-string">"http://anti15.chemicalservers.com/cssproxy.php?cssurl="</span>+encodeURIComponent(a),<span class="hljs-literal">true</span>);b.onreadystatechange=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{b.readyState==<span class="hljs-number">4</span>&amp;&amp;b.status==<span class="hljs-number">200</span>&amp;&amp;g(b.responseText)};b.send()}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>,g=<span class="hljs-number">0</span>,b=<span class="hljs-literal">false</span>,h=<span class="hljs-string">"*,div,p,body,span"</span>.split(<span class="hljs-string">","</span>);!b&amp;&amp;g++&lt;<span class="hljs-number">20</span>;){<span class="hljs-keyword">if</span>(document.body.scrollWidth&gt;window.innerWidth){b=<span class="hljs-literal">true</span>;a-=<span class="hljs-number">100</span>}<span class="hljs-keyword">else</span> a+=<span class="hljs-number">100</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=d.length;c--;){<span class="hljs-keyword">var</span> f=d[c].text;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=document.querySelectorAll(f),l=i.length;l--;){<span class="hljs-keyword">var</span> n=i[l],p=parseFloat(d[c].width,<span class="hljs-number">10</span>),q=d[c].width.replace(/^[\-\d\.]+/,<span class="hljs-string">""</span>);<span class="hljs-keyword">if</span>(q!=<span class="hljs-string">"px"</span>)<span class="hljs-keyword">if</span>(q==<span class="hljs-string">"em"</span>)p*=<span class="hljs-number">16</span>;<span class="hljs-keyword">else</span> console.warn(<span class="hljs-string">"not used to handling non-px units"</span>);<span class="hljs-keyword">if</span>(p&gt;<span class="hljs-number">400</span>&amp;&amp;h.indexOf(f)==-<span class="hljs-number">1</span>){<span class="hljs-keyword">if</span>(!n.a)n.a=p;n.style.width=n.a+a+<span class="hljs-string">"px"</span>}}}<span class="hljs-keyword">catch</span>(x){}}}<span class="hljs-keyword">try</span>{c=d.length;a=<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r;c--;)<span class="hljs-keyword">if</span>(h.indexOf(d[c].text)==-<span class="hljs-number">1</span>)<span class="hljs-keyword">try</span>{<span class="hljs-keyword">var</span> j=document.querySelectorAll(d[c].text);<span class="hljs-keyword">if</span>(j.length==<span class="hljs-number">1</span>&amp;&amp;j[<span class="hljs-number">0</span>].getElementsByTagName(<span class="hljs-string">"*"</span>).length&gt;<span class="hljs-number">15</span>&amp;&amp;(j[<span class="hljs-number">0</span>]==document.body||j[<span class="hljs-number">0</span>].parentNode==document.body||j[<span class="hljs-number">0</span>].parentNode.parentNode==document.body))<span class="hljs-keyword">if</span>(parseInt(d[c].width,<span class="hljs-number">10</span>)&gt;a){a=parseInt(d[c].width,<span class="hljs-number">10</span>);r=j[<span class="hljs-number">0</span>]}}<span class="hljs-keyword">catch</span>(y){}<span class="hljs-keyword">if</span>(a&gt;<span class="hljs-number">500</span>)r.style.width=<span class="hljs-string">"100%"</span>}<span class="hljs-keyword">catch</span>(z){}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span><span class="hljs-params">(a)</span></span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">var</span> i=h.split(<span class="hljs-string">";"</span>).map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(l)</span></span>{<span class="hljs-keyword">if</span>(k(l.split(<span class="hljs-string">":"</span>)[<span class="hljs-number">0</span>])==<span class="hljs-string">"width"</span>)<span class="hljs-keyword">return</span> k(l.split(<span class="hljs-string">":"</span>)[<span class="hljs-number">1</span>]);<span class="hljs-keyword">return</span><span class="hljs-string">""</span>}).join(<span class="hljs-string">""</span>);b&amp;&amp;k(b)&amp;&amp;i&amp;&amp;k(i)&amp;&amp;d.push({text:k(b),width:i});h=b=<span class="hljs-string">""</span>}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b=<span class="hljs-string">""</span>,h=<span class="hljs-string">""</span>,c=<span class="hljs-number">0</span>,f=<span class="hljs-number">0</span>;f&lt;a.length;f++)<span class="hljs-keyword">if</span>(a[f]==<span class="hljs-string">"{"</span>)c=<span class="hljs-number">1</span>;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a[f]==<span class="hljs-string">"}"</span>){g();c=<span class="hljs-number">0</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c==<span class="hljs-number">0</span>)b+=a[f];<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c==<span class="hljs-number">1</span>)h+=a[f];g();o()}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=[],s=document.styleSheets,t=s.length;t--;){<span class="hljs-keyword">var</span> e=s[t];<span class="hljs-keyword">if</span>(e.href&amp;&amp;!e.cssRules){console.log(e.href);u(e.href,v)}<span class="hljs-keyword">else</span>{e=e.cssRules;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> m=e.length;m--;){<span class="hljs-keyword">var</span> w=e[m].selectorText;e[m].style&amp;&amp;e[m].style.width&amp;&amp;d.push({text:w,width:e[m].style.width})}}}window.addEventListener(<span class="hljs-string">"resize"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{o()},<span class="hljs-number">100</span>)});o()})();
</code></pre>
            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/11/xpath-bookmark-bookmarklet/">XPath Bookmark Bookmarklet</a> <span class="subtitle">01 November 2009</span></h2>
            </header>
            <section class="content"><pre><code><span style='display:none' detected-language='javascript'></span>javascript:(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
  <span class="hljs-comment">//inspired by http://userscripts.org/scripts/show/8924</span>
  <span class="hljs-keyword">var</span> s = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);
  s.setAttribute(<span class="hljs-string">'src'</span>,<span class="hljs-string">'http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js'</span>);
  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> jQuery==<span class="hljs-string">'undefined'</span>) <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'head'</span>)[<span class="hljs-number">0</span>].appendChild(s);
  (<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> jQuery==<span class="hljs-string">'undefined'</span>) setTimeout(<span class="hljs-built_in">arguments</span>.callee, <span class="hljs-number">100</span>)
    <span class="hljs-keyword">else</span>{
      jQuery(<span class="hljs-string">"*"</span>).one(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span></span>{
        <span class="hljs-comment">//http://snippets.dzone.com/posts/show/4349</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> path = <span class="hljs-string">''</span>, elt = jQuery(<span class="hljs-keyword">this</span>)[<span class="hljs-number">0</span>]; elt &amp;&amp; elt.nodeType==<span class="hljs-number">1</span>; elt=elt.parentNode){
          <span class="hljs-keyword">var</span> idx = jQuery(elt.parentNode).children(elt.tagName).index(elt)+<span class="hljs-number">1</span>;
          idx&gt;<span class="hljs-number">1</span> ? (idx=<span class="hljs-string">'['</span>+idx+<span class="hljs-string">']'</span>) : (idx=<span class="hljs-string">''</span>);
          path=<span class="hljs-string">'/'</span>+elt.tagName.toLowerCase()+idx+path;
        }
        <span class="hljs-built_in">window</span>.location.hash = <span class="hljs-string">"#xpath:"</span>+path
        event.stopImmediatePropagation()
      })
    }
  })();
})()
</code></pre><p>Sometimes you want to link to a certain part of a web page. That’s great and works well if its a nice site that clearly defines anchor tags to link to, but what if there&nbsp;isn’t?</p>
<p>Today I just remembered something and I thought that I saw something earlier with a xpath <span class="caps">URL</span> hash. I googled it and couldn’t find anything native to the browser (please correct me if I’m wrong) but found this script: <a href="http://userscripts.org/scripts/show/8924">http://userscripts.org/scripts/show/8924</a> which is basically what I was thinking about. But it was allegedly hard to make those URLs, so I thought why not make a bookmarklet to make linking to those URLs simple? So I quickly hacked this&nbsp;together</p>
<pre><code><span style='display:none' detected-language='javascript'></span>javascript:(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">var</span> a=<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"script"</span>);a.setAttribute(<span class="hljs-string">"src"</span>,<span class="hljs-string">"http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"</span>);<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> jQuery==<span class="hljs-string">"undefined"</span>){<span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"head"</span>)[<span class="hljs-number">0</span>].appendChild(a)}(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> jQuery==<span class="hljs-string">"undefined"</span>){setTimeout(<span class="hljs-built_in">arguments</span>.callee,<span class="hljs-number">100</span>)}<span class="hljs-keyword">else</span>{jQuery(<span class="hljs-string">"*"</span>).one(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(d)</span></span>{jQuery(<span class="hljs-keyword">this</span>)[<span class="hljs-number">0</span>].scrollIntoView();<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e=<span class="hljs-string">""</span>,c=jQuery(<span class="hljs-keyword">this</span>)[<span class="hljs-number">0</span>];c&amp;amp;&amp;amp;c.nodeType==<span class="hljs-number">1</span>;c=c.parentNode){<span class="hljs-keyword">var</span> b=jQuery(c.parentNode).children(c.tagName).index(c)+<span class="hljs-number">1</span>;b&gt;<span class="hljs-number">1</span>?(b=<span class="hljs-string">"["</span>+b+<span class="hljs-string">"]"</span>):(b=<span class="hljs-string">""</span>);e=<span class="hljs-string">"/"</span>+c.tagName.toLowerCase()+b+e}<span class="hljs-built_in">window</span>.location.hash=<span class="hljs-string">"#xpath:"</span>+e;d.preventDefault();d.stopPropagation();jQuery(<span class="hljs-string">"*"</span>).unbind(<span class="hljs-string">"click"</span>,<span class="hljs-built_in">arguments</span>.callee)})}})()})();
</code></pre><p>(Just drag it over to your bookmarks bar as with any other bookmarklet). To use, just click on the bookmark, and click on the element you want to link to. You should see the <span class="caps">URL</span> will update with a xpath hash showing you the copy-pastable link to that element. The code is quite simple and should work on Firefox, Chrome and all the other browsers (maybe even IE) but the ability to auto-scroll and actually use the links is only available to Firefox and potentially Opera and&nbsp;Chrome.</p>
<p>And I’m working on a Chrome Extension for the original userscript (which should work with Chrome’s userscript support, but I’m going to try packaging it as a chrome extension file) But sadly chromium for linux isnt up to speed especially with extension&nbsp;development.</p>
<p>The source can be found <a href="http://gist.github.com/223708">http://gist.github.com/223708</a>.</p>
<p><strong><em>Update:</em><span style="font-weight: normal;"> _Fixed the link for the path and added some stuff. <strong>Update 2</strong><em>_: Fixed bookmarklet, now scrolls to clicked, executes only once, prevents&nbsp;default</em></span></strong></p>

            </section>
          </article>
          <hr>
          <div class="nav"><a href="/archive" class="newer">« Archives</a><a href="/page/1" class="next">Latest Posts »</a>
          </div>
        </div>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-1367972-3', 'auto');
      ga('send', 'pageview');
      
    </script>
    <script>
      function squish(){
        document.getElementById("squishfoot").className += "squish"
      }
    </script>
    <style>
      .squish { font-size: 9px }
      .squishsquish { font-size: 8px }
      .squishsquishsquish { font-size: 7px }
      .squishsquishsquishsquish { font-size: 6px }
      .squishsquishsquishsquishsquish { font-size: 5px }
      .squishsquishsquishsquishsquishsquish { font-size: 4px }
      .squishsquishsquishsquishsquishsquishsquish { visibility: hidden }
    </style>
    <div class="graybar bottom">
      <footer>
        <div id="squishfoot">I'm a tiny footer, please don't <a href="javascript:squish()">squish</a> me</div>
      </footer>
    </div>
  </body>
</html>