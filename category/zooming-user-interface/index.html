<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" href="http://localhost:8080/feed.xml" type="application/rss+xml" title="somewhere to talk about ideas and projects and stuff like everyone else">
    <link rel="stylesheet" href="/style/main.css">
    <title>stuff</title>
  </head>
  <body>
    <div class="whitebox">
      <div class="graybar top">
        <header class="top">
          <div class="slogan">somewhere to talk about random ideas and projects like everyone else</div><a href="/">
            <h1 class="logo">
              stuff
               <span class="byline">by antimatter15</span>
            </h1></a>
        </header>
      </div>
      <div id="main">
        <div class="sidebar">
          <div class="about">
            <p class="emph">
              Hi. I’m <b>Kevin Kwok</b>, and I’m currently a sophomore at <b>MIT</b>, 
              and this is my obligatory online presence or whatever.  
            </p>
            <p>
              I regularly updated this site from 2007, when I started it in elementary school, 
              to summer 2014, when it was unwittingly absorbed into an international phishing ring.
            </p>
            <p>
              But like a phoenix, hydra or the national deficit, the site is back 
              again bigger than ever (after a rather long gestation period).
            </p>
            <p>
              For more obnoxious autobiographical content 
              blended with bits of nostalgia for the old PHP-on-sketchy-free-webhosting days, <a href="/about/">click here.</a>
            </p>
          </div><br>
          <section class="archive"><a href="/archive">
              <h2>Archive</h2></a>
            <ul>
              <li>
                <ul>
                  <li><a href="/2015/04"><span class="month">April</span> <span class="year">2015</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2014/12"><span class="month">December</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/06"><span class="month">June</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/05"><span class="month">May</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/04"><span class="month">April</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/03"><span class="month">March</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/02"><span class="month">February</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/01"><span class="month">January</span> <span class="year">2014</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2013/12"><span class="month">December</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/11"><span class="month">November</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/10"><span class="month">October</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/09"><span class="month">September</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/08"><span class="month">August</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/07"><span class="month">July</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/06"><span class="month">June</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/05"><span class="month">May</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/04"><span class="month">April</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/03"><span class="month">March</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/02"><span class="month">February</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/01"><span class="month">January</span> <span class="year">2013</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2012/12"><span class="month">December</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/11"><span class="month">November</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/10"><span class="month">October</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/09"><span class="month">September</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/08"><span class="month">August</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/07"><span class="month">July</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/06"><span class="month">June</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/05"><span class="month">May</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/04"><span class="month">April</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/03"><span class="month">March</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/02"><span class="month">February</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/01"><span class="month">January</span> <span class="year">2012</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2011/12"><span class="month">December</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/11"><span class="month">November</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/10"><span class="month">October</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/09"><span class="month">September</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/08"><span class="month">August</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/07"><span class="month">July</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/06"><span class="month">June</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/05"><span class="month">May</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/04"><span class="month">April</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/03"><span class="month">March</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/02"><span class="month">February</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/01"><span class="month">January</span> <span class="year">2011</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2010/12"><span class="month">December</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/11"><span class="month">November</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/10"><span class="month">October</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/09"><span class="month">September</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/08"><span class="month">August</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/07"><span class="month">July</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/06"><span class="month">June</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/05"><span class="month">May</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/04"><span class="month">April</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/03"><span class="month">March</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/02"><span class="month">February</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/01"><span class="month">January</span> <span class="year">2010</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2009/12"><span class="month">December</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/11"><span class="month">November</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/10"><span class="month">October</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/09"><span class="month">September</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/08"><span class="month">August</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/07"><span class="month">July</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/06"><span class="month">June</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/05"><span class="month">May</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/04"><span class="month">April</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/03"><span class="month">March</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/01"><span class="month">January</span> <span class="year">2009</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2008/12"><span class="month">December</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/11"><span class="month">November</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/10"><span class="month">October</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/09"><span class="month">September</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/08"><span class="month">August</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/07"><span class="month">July</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/06"><span class="month">June</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/05"><span class="month">May</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/04"><span class="month">April</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/01"><span class="month">January</span> <span class="year">2008</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2007/12"><span class="month">December</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/11"><span class="month">November</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/10"><span class="month">October</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/09"><span class="month">September</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/08"><span class="month">August</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/05"><span class="month">May</span> <span class="year">2007</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2006/09"><span class="month">September</span> <span class="year">2006</span></a></li>
                  <li><a href="/2006/08"><span class="month">August</span> <span class="year">2006</span></a></li>
                </ul><br>
              </li>
            </ul>
          </section>
          <div class="tags">
            <h2>Tags</h2><a href="/tag/3D" style="font-size: 13px">3D </a><a href="/tag/actionscript" style="font-size: 11px">actionscript </a><a href="/tag/ajax" style="font-size: 20px">ajax </a><a href="/tag/ajax animator" style="font-size: 20px">ajax animator </a><a href="/tag/animation" style="font-size: 11px">animation </a><a href="/tag/api" style="font-size: 13px">api </a><a href="/tag/apple" style="font-size: 20px">apple </a><a href="/tag/art" style="font-size: 11px">art </a><a href="/tag/awesome" style="font-size: 13px">awesome </a><a href="/tag/blog" style="font-size: 19px">blog </a><a href="/tag/browser" style="font-size: 20px">browser </a><a href="/tag/bugfix" style="font-size: 15px">bugfix </a><a href="/tag/canvas" style="font-size: 15px">canvas </a><a href="/tag/change" style="font-size: 15px">change </a><a href="/tag/chrome" style="font-size: 20px">chrome </a><a href="/tag/chrome extension" style="font-size: 11px">chrome extension </a><a href="/tag/chrome os" style="font-size: 11px">chrome os </a><a href="/tag/chromebook" style="font-size: 11px">chromebook </a><a href="/tag/code" style="font-size: 13px">code </a><a href="/tag/color" style="font-size: 11px">color </a><a href="/tag/css" style="font-size: 11px">css </a><a href="/tag/demo" style="font-size: 11px">demo </a><a href="/tag/design" style="font-size: 19px">design </a><a href="/tag/elitist" style="font-size: 20px">elitist </a><a href="/tag/evil" style="font-size: 19px">evil </a><a href="/tag/experiment" style="font-size: 15px">experiment </a><a href="/tag/extension" style="font-size: 20px">extension </a><a href="/tag/ExtJS" style="font-size: 20px">ExtJS </a><a href="/tag/facebook" style="font-size: 11px">facebook </a><a href="/tag/fast" style="font-size: 20px">fast </a><a href="/tag/features" style="font-size: 15px">features </a><a href="/tag/firefox" style="font-size: 20px">firefox </a><a href="/tag/flash" style="font-size: 17px">flash </a><a href="/tag/free" style="font-size: 11px">free </a><a href="/tag/function" style="font-size: 13px">function </a><a href="/tag/future" style="font-size: 15px">future </a><a href="/tag/GAE" style="font-size: 13px">GAE </a><a href="/tag/github" style="font-size: 15px">github </a><a href="/tag/google" style="font-size: 20px">google </a><a href="/tag/google code" style="font-size: 11px">google code </a><a href="/tag/google wave" style="font-size: 20px">google wave </a><a href="/tag/graphics" style="font-size: 15px">graphics </a><a href="/tag/hacking" style="font-size: 11px">hacking </a><a href="/tag/history" style="font-size: 11px">history </a><a href="/tag/hosting" style="font-size: 19px">hosting </a><a href="/tag/html5" style="font-size: 19px">html5 </a><a href="/tag/idea" style="font-size: 13px">idea </a><a href="/tag/images" style="font-size: 11px">images </a><a href="/tag/interface" style="font-size: 11px">interface </a><a href="/tag/internet exploder" style="font-size: 20px">internet exploder </a><a href="/tag/ipad" style="font-size: 17px">ipad </a><a href="/tag/javascript" style="font-size: 20px">javascript </a><a href="/tag/json" style="font-size: 15px">json </a><a href="/tag/library" style="font-size: 11px">library </a><a href="/tag/lines" style="font-size: 13px">lines </a><a href="/tag/linux" style="font-size: 17px">linux </a><a href="/tag/login" style="font-size: 15px">login </a><a href="/tag/mac" style="font-size: 11px">mac </a><a href="/tag/magical" style="font-size: 15px">magical </a><a href="/tag/math" style="font-size: 11px">math </a><a href="/tag/meta" style="font-size: 13px">meta </a><a href="/tag/microsoft" style="font-size: 13px">microsoft </a><a href="/tag/microwave" style="font-size: 15px">microwave </a><a href="/tag/mirror" style="font-size: 11px">mirror </a><a href="/tag/multitouch" style="font-size: 13px">multitouch </a><a href="/tag/new" style="font-size: 19px">new </a><a href="/tag/ocr" style="font-size: 11px">ocr </a><a href="/tag/offline" style="font-size: 17px">offline </a><a href="/tag/old" style="font-size: 17px">old </a><a href="/tag/onlypaths" style="font-size: 17px">onlypaths </a><a href="/tag/pi" style="font-size: 19px">pi </a><a href="/tag/processing" style="font-size: 11px">processing </a><a href="/tag/progress" style="font-size: 11px">progress </a><a href="/tag/prototype" style="font-size: 13px">prototype </a><a href="/tag/python" style="font-size: 20px">python </a><a href="/tag/raphael" style="font-size: 19px">raphael </a><a href="/tag/release" style="font-size: 13px">release </a><a href="/tag/rewrite" style="font-size: 13px">rewrite </a><a href="/tag/security" style="font-size: 15px">security </a><a href="/tag/shiny" style="font-size: 20px">shiny </a><a href="/tag/ShinyTouch" style="font-size: 13px">ShinyTouch </a><a href="/tag/site" style="font-size: 13px">site </a><a href="/tag/small" style="font-size: 19px">small </a><a href="/tag/speed" style="font-size: 11px">speed </a><a href="/tag/SVG" style="font-size: 15px">SVG </a><a href="/tag/text" style="font-size: 11px">text </a><a href="/tag/touch" style="font-size: 13px">touch </a><a href="/tag/update" style="font-size: 20px">update </a><a href="/tag/upload" style="font-size: 17px">upload </a><a href="/tag/user interface" style="font-size: 11px">user interface </a><a href="/tag/vector" style="font-size: 13px">vector </a><a href="/tag/vectoreditor" style="font-size: 19px">vectoreditor </a><a href="/tag/version" style="font-size: 13px">version </a><a href="/tag/video" style="font-size: 15px">video </a><a href="/tag/vp8" style="font-size: 11px">vp8 </a><a href="/tag/vX JS" style="font-size: 19px">vX JS </a><a href="/tag/wave" style="font-size: 20px">wave </a><a href="/tag/wikify" style="font-size: 20px">wikify </a><a href="/tag/wikipedia" style="font-size: 17px">wikipedia </a><a href="/tag/wordpress" style="font-size: 20px">wordpress </a>
          </div>
        </div>
        <div id="content">
          <h1>Zooming User Interface</h1>
          <article class="article intro">
            <header>
              <h2><a href="/2010/08/html5-css3-zooming-user-interface/">HTML5/CSS3 Zooming User Interface</a> <span class="subtitle">29 August 2010</span></h2>
            </header>
            <section class="content"><object style="height: 344px; width: 425px;" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100" height="100" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://www.youtube.com/v/Zus6yre73Qc?version=3" /><param name="allowfullscreen" value="true" /><embed style="height: 344px; width: 425px;" type="application/x-shockwave-flash" width="100" height="100" src="http://www.youtube.com/v/Zus6yre73Qc?version=3" allowscriptaccess="always" allowfullscreen="true"></embed></object>

<p>I’m taking liberties with the <a href="http://en.wikipedia.org/wiki/Zooming_user_interface">concept of zooming user interfaces</a>, but this is an example of something that lets you browse wikipedia by zooming in toward a link, and zooming out to go back. So I guess it’s more of a z-axis spatial visualization for history somewhat similar to what I guess Apple’s Time Machine program is like (though I have never tried&nbsp;it).</p>
<p>It uses html5’s popState and pushState to get the <span class="caps">URL</span> to change without reloading the page (which, btw people should use instead of the weird /#/ urls). It uses webkit transformations, which probably aren’t part of CSS3 since it’s vendor specific, but I haven’t had time to hack it to work on firefox, <a href="http://github.com/antimatter15/zui/blob/master/zui.js">feel free to fork</a>.</p>
<pre><code><span style='display:none' detected-language='javascript'></span>javascript:(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">var</span> scale=<span class="hljs-number">1</span>,tx=innerWidth/<span class="hljs-number">2</span>,ty=innerHeight/<span class="hljs-number">2</span>,sx=innerWidth/<span class="hljs-number">2</span>,sy=innerHeight/<span class="hljs-number">2</span>;<span class="hljs-built_in">document</span>.onmousewheel=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">if</span>(a.wheelDelta){<span class="hljs-keyword">if</span>(a.wheelDelta&gt;<span class="hljs-number">0</span>)scale*=a.wheelDelta/<span class="hljs-number">1000</span>;<span class="hljs-keyword">if</span>(a.wheelDelta&lt;<span class="hljs-number">0</span>)scale/=-a.wheelDelta/<span class="hljs-number">1000</span>}scale&lt;<span class="hljs-number">0.05</span>&amp;&amp;history.go(-<span class="hljs-number">1</span>);showTransform();a.preventDefault()};<span class="hljs-built_in">window</span>.onpopstate=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{loadPage(a.state.url)}; <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showTransform</span><span class="hljs-params">()</span></span>{<span class="hljs-built_in">document</span>.body.style.webkitTransform=<span class="hljs-string">"scale("</span>+scale+<span class="hljs-string">") translate("</span>+(innerWidth/<span class="hljs-number">2</span>-tx)+<span class="hljs-string">"px,"</span>+(innerHeight/<span class="hljs-number">2</span>-ty)+<span class="hljs-string">"px)"</span>;<span class="hljs-keyword">var</span> a=<span class="hljs-built_in">document</span>.elementFromPoint(innerWidth/<span class="hljs-number">2</span>,innerHeight/<span class="hljs-number">2</span>);<span class="hljs-keyword">if</span>(a.nodeName==<span class="hljs-string">"A"</span>&amp;&amp;a.offsetWidth*scale&gt;<span class="hljs-number">0.3</span>*innerWidth&amp;&amp;a.offsetHeight*scale&gt;<span class="hljs-number">0.3</span>*innerHeight){<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"clicky"</span>);loadPage(a.href);history.pushState({url:a.href},a.href,a.href)}} <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadPage</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">new</span> XMLHttpRequest;b.open(<span class="hljs-string">"get"</span>,a,<span class="hljs-literal">true</span>);b.onload=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-built_in">document</span>.body.innerHTML=b.responseText;showTransform()};b.send(<span class="hljs-literal">null</span>);scale=<span class="hljs-number">1</span>;tx=innerWidth/<span class="hljs-number">2</span>;ty=innerHeight/<span class="hljs-number">2</span>;sx=innerWidth/<span class="hljs-number">2</span>;sy=innerHeight/<span class="hljs-number">2</span>;showTransform()}<span class="hljs-keyword">var</span> dragging=<span class="hljs-literal">false</span>;<span class="hljs-built_in">document</span>.onmousemove=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">if</span>(dragging){tx+=(sx-a.pageX)/scale;ty+=(sy-a.pageY)/scale;sx=a.pageX;sy=a.pageY;showTransform();a.preventDefault();a.stopPropagation()}}; <span class="hljs-built_in">document</span>.onmousedown=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{dragging=<span class="hljs-literal">true</span>;sx=a.pageX;sy=a.pageY;a.preventDefault()};<span class="hljs-built_in">document</span>.onclick=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{a.preventDefault()};<span class="hljs-built_in">document</span>.onmouseup=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{dragging=<span class="hljs-literal">false</span>;a.preventDefault()};})()
</code></pre><p>So that’s a bookmarklet. feel free to click it on this site and it’ll get rid of the infinite scrolling and for some reason it doesn’t work well on this site. Try it on&nbsp;wikipedia.</p>
<pre><code><span style='display:none' detected-language='clojure'></span><span class="hljs-list">(<span class="hljs-keyword">function</span><span class="hljs-list">()</span><span class="hljs-collection">{
    var scale=1,
        tx=innerWidth/2,
        ty=innerHeight/2,
        sx=innerWidth/2,
        sy=innerHeight/2,
        mx=innerWidth/2,
        my=innerHeight/2,

    document.onmousewheel=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        console.log<span class="hljs-list">(<span class="hljs-keyword">a.wheelDelta</span>, scale)</span>
        scale = Math.exp<span class="hljs-list">(<span class="hljs-keyword">Math.log</span><span class="hljs-list">(<span class="hljs-keyword">scale</span>)</span> + a.wheelDelta / <span class="hljs-number">200</span>)</span>
        if<span class="hljs-list">(<span class="hljs-keyword">scale&lt;0.05</span>)</span> history.go<span class="hljs-list">(<span class="hljs-keyword">-1</span>)</span><span class="hljs-comment">;</span>
        showTransform<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
    window.onpopstate=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        loadPage<span class="hljs-list">(<span class="hljs-keyword">a.state.url</span>)</span>
    }</span><span class="hljs-comment">;</span>
    function showTransform<span class="hljs-list">()</span><span class="hljs-collection">{
        document.body.style.webkitTransform=<span class="hljs-string">"scale("</span>+scale+<span class="hljs-string">") translate("</span>+<span class="hljs-list">(<span class="hljs-keyword">mx-tx</span>)</span>+<span class="hljs-string">"px,"</span>+<span class="hljs-list">(<span class="hljs-keyword">my-ty</span>)</span>+<span class="hljs-string">"px)"</span><span class="hljs-comment">;</span>
        var a=document.elementFromPoint<span class="hljs-list">(<span class="hljs-keyword">innerWidth/2</span>,innerHeight/2)</span><span class="hljs-comment">;</span>
        if<span class="hljs-list">(<span class="hljs-keyword">a.nodeName==</span><span class="hljs-string">"A"</span>&amp;&amp;a.offsetWidth*scale&gt;0.3*innerWidth&amp;&amp;a.offsetHeight*scale&gt;0.3*innerHeight)</span><span class="hljs-collection">{
            console.log<span class="hljs-list">(<span class="hljs-string">"clicky"</span>)</span><span class="hljs-comment">;</span>
            loadPage<span class="hljs-list">(<span class="hljs-keyword">a.href</span>)</span><span class="hljs-comment">;</span>
            history.pushState<span class="hljs-list">(<span class="hljs-collection">{url:a.href}</span>,a.href,a.href)</span>
        }</span>
    }</span> 
    function loadPage<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        var b=new XMLHttpRequest;
        b.open<span class="hljs-list">(<span class="hljs-string">"get"</span>,a,true)</span><span class="hljs-comment">;</span>
        b.onload=function<span class="hljs-list">()</span><span class="hljs-collection">{
            document.body.innerHTML=b.responseText;
            showTransform<span class="hljs-list">()</span>
        }</span><span class="hljs-comment">;</span>
        b.send<span class="hljs-list">(<span class="hljs-keyword">null</span>)</span><span class="hljs-comment">;</span>
        scale=1;
        tx=innerWidth/2;
        ty=innerHeight/2;
        sx=innerWidth/2;
        sy=innerHeight/2;
        showTransform<span class="hljs-list">()</span>
    }</span>
    var dragging=false;
    document.onmousemove=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{

        if<span class="hljs-list">(<span class="hljs-keyword">dragging</span>)</span><span class="hljs-collection">{
            tx+=<span class="hljs-list">(<span class="hljs-keyword">sx-a.pageX</span>)</span>/scale;
            ty+=<span class="hljs-list">(<span class="hljs-keyword">sy-a.pageY</span>)</span>/scale;
            sx=a.pageX;
            sy=a.pageY;
            showTransform<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            a.preventDefault<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            a.stopPropagation<span class="hljs-list">()</span>
        }</span>
    }</span><span class="hljs-comment">; </span>
    document.onmousedown=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        dragging=true;
        sx=a.pageX;
        sy=a.pageY;
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
    document.onclick=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
    document.onmouseup=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        dragging=false;
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
}</span>)</span><span class="hljs-list">()</span>
</code></pre>
            </section>
          </article>
          <hr>
        </div>
      </div>
    </div>
    <script>
      function squish(){
        document.getElementById("squishfoot").className += "squish"
      }
    </script>
    <style>
      .squish { font-size: 9px }
      .squishsquish { font-size: 8px }
      .squishsquishsquish { font-size: 7px }
      .squishsquishsquishsquish { font-size: 6px }
      .squishsquishsquishsquishsquish { font-size: 5px }
      .squishsquishsquishsquishsquishsquish { font-size: 4px }
      .squishsquishsquishsquishsquishsquishsquish { visibility: hidden }
    </style>
    <div class="graybar bottom">
      <footer>
        <div id="squishfoot">I'm a tiny footer, please don't <a href="javascript:squish()">squish</a> me</div>
      </footer>
    </div>
  </body>
</html>