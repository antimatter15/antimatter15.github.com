<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="somewhere to talk about ideas and projects and stuff like everyone else">
    <link rel="stylesheet" href="/style/main.css">
    <title>stuff by kevin kwok</title>
  </head>
  <body>
    <div class="whitebox">
      <div class="graybar top">
        <header class="top">
          <div class="slogan">somewhere to talk about random ideas and projects like everyone else</div><a href="/">
            <h1 class="logo">
              stuff
               <span class="byline">by antimatter15</span>
            </h1></a>
        </header>
      </div>
      <div id="main">
        <div class="sidebar">
          <div class="about">
            <p class="emph">
              Hi. I’m <b>Kevin Kwok</b>, and I’m currently a junior at <b>MIT</b>, 
              and this is my obligatory online presence or whatever.  
            </p>
            <p>This is my little corner of the internet, where I talk about random projects and ideas and stuff. </p>
            <p>If you want to contact me or read obnoxiously nostalgic autobiographical trivia, check out the <a href="/about"> about </a>section.</p>
          </div><br>
          <section class="archive"><a href="/archive">
              <h2>Archive</h2></a>
            <ul>
              <li>
                <ul>
                  <li><a href="/2015/12"><span class="month">December</span> <span class="year">2015</span></a></li>
                  <li><a href="/2015/08"><span class="month">August</span> <span class="year">2015</span></a></li>
                  <li><a href="/2015/06"><span class="month">June</span> <span class="year">2015</span></a></li>
                  <li><a href="/2015/05"><span class="month">May</span> <span class="year">2015</span></a></li>
                  <li><a href="/2015/04"><span class="month">April</span> <span class="year">2015</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2014/12"><span class="month">December</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/07"><span class="month">July</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/06"><span class="month">June</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/05"><span class="month">May</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/04"><span class="month">April</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/03"><span class="month">March</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/02"><span class="month">February</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/01"><span class="month">January</span> <span class="year">2014</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2013/12"><span class="month">December</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/11"><span class="month">November</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/10"><span class="month">October</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/09"><span class="month">September</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/08"><span class="month">August</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/07"><span class="month">July</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/06"><span class="month">June</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/05"><span class="month">May</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/04"><span class="month">April</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/03"><span class="month">March</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/02"><span class="month">February</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/01"><span class="month">January</span> <span class="year">2013</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2012/12"><span class="month">December</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/11"><span class="month">November</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/10"><span class="month">October</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/09"><span class="month">September</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/08"><span class="month">August</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/07"><span class="month">July</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/06"><span class="month">June</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/05"><span class="month">May</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/04"><span class="month">April</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/03"><span class="month">March</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/02"><span class="month">February</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/01"><span class="month">January</span> <span class="year">2012</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2011/12"><span class="month">December</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/11"><span class="month">November</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/10"><span class="month">October</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/09"><span class="month">September</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/08"><span class="month">August</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/07"><span class="month">July</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/06"><span class="month">June</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/05"><span class="month">May</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/04"><span class="month">April</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/03"><span class="month">March</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/02"><span class="month">February</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/01"><span class="month">January</span> <span class="year">2011</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2010/12"><span class="month">December</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/11"><span class="month">November</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/10"><span class="month">October</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/09"><span class="month">September</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/08"><span class="month">August</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/07"><span class="month">July</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/06"><span class="month">June</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/05"><span class="month">May</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/04"><span class="month">April</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/03"><span class="month">March</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/02"><span class="month">February</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/01"><span class="month">January</span> <span class="year">2010</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2009/12"><span class="month">December</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/11"><span class="month">November</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/10"><span class="month">October</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/09"><span class="month">September</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/08"><span class="month">August</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/07"><span class="month">July</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/06"><span class="month">June</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/05"><span class="month">May</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/04"><span class="month">April</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/03"><span class="month">March</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/01"><span class="month">January</span> <span class="year">2009</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2008/12"><span class="month">December</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/11"><span class="month">November</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/10"><span class="month">October</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/09"><span class="month">September</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/08"><span class="month">August</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/07"><span class="month">July</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/06"><span class="month">June</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/05"><span class="month">May</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/04"><span class="month">April</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/01"><span class="month">January</span> <span class="year">2008</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2007/12"><span class="month">December</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/11"><span class="month">November</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/10"><span class="month">October</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/09"><span class="month">September</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/08"><span class="month">August</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/05"><span class="month">May</span> <span class="year">2007</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2006/09"><span class="month">September</span> <span class="year">2006</span></a></li>
                  <li><a href="/2006/08"><span class="month">August</span> <span class="year">2006</span></a></li>
                </ul><br>
              </li>
            </ul>
          </section>
          <div class="tags">
            <h2>Tags</h2><a href="/tag/3D" style="font-size: 13px">3D </a><a href="/tag/actionscript" style="font-size: 11px">actionscript </a><a href="/tag/ajax" style="font-size: 20px">ajax </a><a href="/tag/ajax animator" style="font-size: 20px">ajax animator </a><a href="/tag/api" style="font-size: 13px">api </a><a href="/tag/apple" style="font-size: 20px">apple </a><a href="/tag/arduino" style="font-size: 11px">arduino </a><a href="/tag/art" style="font-size: 13px">art </a><a href="/tag/awesome" style="font-size: 13px">awesome </a><a href="/tag/blog" style="font-size: 19px">blog </a><a href="/tag/browser" style="font-size: 20px">browser </a><a href="/tag/bugfix" style="font-size: 15px">bugfix </a><a href="/tag/canvas" style="font-size: 15px">canvas </a><a href="/tag/change" style="font-size: 15px">change </a><a href="/tag/chrome" style="font-size: 20px">chrome </a><a href="/tag/code" style="font-size: 13px">code </a><a href="/tag/color" style="font-size: 11px">color </a><a href="/tag/colors" style="font-size: 11px">colors </a><a href="/tag/css" style="font-size: 11px">css </a><a href="/tag/design" style="font-size: 20px">design </a><a href="/tag/doge" style="font-size: 11px">doge </a><a href="/tag/elitist" style="font-size: 20px">elitist </a><a href="/tag/evil" style="font-size: 19px">evil </a><a href="/tag/experiment" style="font-size: 15px">experiment </a><a href="/tag/export" style="font-size: 11px">export </a><a href="/tag/extension" style="font-size: 20px">extension </a><a href="/tag/ExtJS" style="font-size: 20px">ExtJS </a><a href="/tag/fast" style="font-size: 20px">fast </a><a href="/tag/features" style="font-size: 15px">features </a><a href="/tag/firefox" style="font-size: 20px">firefox </a><a href="/tag/flash" style="font-size: 17px">flash </a><a href="/tag/format" style="font-size: 11px">format </a><a href="/tag/function" style="font-size: 13px">function </a><a href="/tag/future" style="font-size: 15px">future </a><a href="/tag/GAE" style="font-size: 13px">GAE </a><a href="/tag/github" style="font-size: 15px">github </a><a href="/tag/google" style="font-size: 20px">google </a><a href="/tag/google code" style="font-size: 11px">google code </a><a href="/tag/google wave" style="font-size: 20px">google wave </a><a href="/tag/graphics" style="font-size: 17px">graphics </a><a href="/tag/hacking" style="font-size: 11px">hacking </a><a href="/tag/hardware" style="font-size: 11px">hardware </a><a href="/tag/hosting" style="font-size: 19px">hosting </a><a href="/tag/html5" style="font-size: 19px">html5 </a><a href="/tag/idea" style="font-size: 13px">idea </a><a href="/tag/image" style="font-size: 11px">image </a><a href="/tag/internet exploder" style="font-size: 20px">internet exploder </a><a href="/tag/ipad" style="font-size: 17px">ipad </a><a href="/tag/javascript" style="font-size: 20px">javascript </a><a href="/tag/json" style="font-size: 15px">json </a><a href="/tag/library" style="font-size: 11px">library </a><a href="/tag/light" style="font-size: 11px">light </a><a href="/tag/lines" style="font-size: 13px">lines </a><a href="/tag/linux" style="font-size: 17px">linux </a><a href="/tag/login" style="font-size: 15px">login </a><a href="/tag/magical" style="font-size: 15px">magical </a><a href="/tag/meta" style="font-size: 13px">meta </a><a href="/tag/microsoft" style="font-size: 15px">microsoft </a><a href="/tag/microwave" style="font-size: 15px">microwave </a><a href="/tag/mirror" style="font-size: 11px">mirror </a><a href="/tag/mit" style="font-size: 11px">mit </a><a href="/tag/multitouch" style="font-size: 13px">multitouch </a><a href="/tag/new" style="font-size: 19px">new </a><a href="/tag/nostalgia" style="font-size: 11px">nostalgia </a><a href="/tag/ocr" style="font-size: 13px">ocr </a><a href="/tag/offline" style="font-size: 17px">offline </a><a href="/tag/old" style="font-size: 17px">old </a><a href="/tag/onlypaths" style="font-size: 17px">onlypaths </a><a href="/tag/pi" style="font-size: 19px">pi </a><a href="/tag/progress" style="font-size: 11px">progress </a><a href="/tag/prototype" style="font-size: 13px">prototype </a><a href="/tag/python" style="font-size: 20px">python </a><a href="/tag/raphael" style="font-size: 19px">raphael </a><a href="/tag/release" style="font-size: 13px">release </a><a href="/tag/rewrite" style="font-size: 13px">rewrite </a><a href="/tag/school" style="font-size: 15px">school </a><a href="/tag/security" style="font-size: 15px">security </a><a href="/tag/shiny" style="font-size: 20px">shiny </a><a href="/tag/ShinyTouch" style="font-size: 13px">ShinyTouch </a><a href="/tag/simple" style="font-size: 11px">simple </a><a href="/tag/site" style="font-size: 13px">site </a><a href="/tag/small" style="font-size: 20px">small </a><a href="/tag/spam" style="font-size: 11px">spam </a><a href="/tag/speed" style="font-size: 11px">speed </a><a href="/tag/SVG" style="font-size: 15px">SVG </a><a href="/tag/touch" style="font-size: 13px">touch </a><a href="/tag/update" style="font-size: 20px">update </a><a href="/tag/upload" style="font-size: 17px">upload </a><a href="/tag/user interface" style="font-size: 11px">user interface </a><a href="/tag/vector" style="font-size: 13px">vector </a><a href="/tag/vectoreditor" style="font-size: 19px">vectoreditor </a><a href="/tag/version" style="font-size: 13px">version </a><a href="/tag/video" style="font-size: 15px">video </a><a href="/tag/vp8" style="font-size: 11px">vp8 </a><a href="/tag/vX JS" style="font-size: 19px">vX JS </a><a href="/tag/wave" style="font-size: 20px">wave </a><a href="/tag/webcam" style="font-size: 11px">webcam </a><a href="/tag/wikify" style="font-size: 20px">wikify </a><a href="/tag/wikipedia" style="font-size: 17px">wikipedia </a><a href="/tag/wordpress" style="font-size: 20px">wordpress </a>
          </div>
        </div>
        <div id="content">
          <h1>Design</h1>
          <article class="article intro">
            <header>
              <h2><a href="/2012/08/swipe-gesture-for-chrome/">Swipe Gesture for Chrome</a> <span class="subtitle">13 August 2012</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2012/Swipe%20Gesture%20for%20Chrome/unnamed.png"><div class="pic md" style="" ><img alt=""  src="/articles/2012/Swipe%20Gesture%20for%20Chrome/unnamed-300x187.png" ><div class="caption">unnamed</div></div></a></p>
<p>Here’s an extension which I actually released<a href="https://plus.google.com/116347431032639424492/posts/K4xgL8SKKQU"> some time back</a>, but never got around to writing a blog post for. Part of the reason was that the early reviews didn’t quite pan out, in large part due to <em>not working</em>. But I was using my Chromebook and I somehow felt a vague longing for some kind of multitouch gesture, and remembered that I had made this little extension (which I had disabled for some reason). Anyway, this is as appropriate a time as any to formally announce it to my probably remarkably small blog&nbsp;readership.</p>
<p>There is, however a tad bit of difficulty representing the function of it in pictures because really, it doesn’t have a big <span class="caps">UI</span>. It makes hardware more useful, and in its idealized form, should have no interface. But of course, we don’t live in a place where apps are perfectly idealized and either way, Apple has <a href="http://www.apple.com/osx/what-is/gestures.html">plenty of nice pretty pictures</a> of people swiping fingers to the&nbsp;right.</p>
<p>I really fell in love with the Macbook multitouch gestures, almost at first sight. They just seemed so natural and so beautiful that I sort of felt that that was like the epitome of design or <span class="caps">HCI</span> perfection. And from that point, any time I used a laptop which wasn’t made by Apple (or even the ones which were made by Apple but were stuck in the barbaric ages preceding the inclusion of the glass multitouch pad, where its invention might have produced a <a href="http://en.wikipedia.org/wiki/File:Creaci%C3%B3n_de_Ad%C3%A1n.jpg">scene like this</a>), I felt thoroughly&nbsp;disgusted.</p>
<p>Flipping through the Chromium <span class="caps">OS</span> design papers, there is one page dedicated specifically to<a href="http://dev.chromium.org/user-experience/multitouch"> cool multitouch gestures</a> which could be used. And as far as I’m aware the Samsung Series 5 550 (the new chromebook) is the only device which supports these gestures (thus far), and even then it’s only pinch to zoom and forward/back (three finger). All the other Chromebook users have been left&nbsp;out.</p>
<p>Another cool thing about the implementation is that it uses a certain <code>webkitDirectionInvertedFromDevice</code> property of the <code>mousewheel</code> events, which gives you a boolean value about whether or not the platform you’re on has some magical direction inversion like on <span class="caps">OS</span> X Lion or if you’ve enabled “simple scrolling” on Chrome OS. But this might not have been a good idea since swipe directions too are sort of inverted on those platforms naturally as well, so it might be better to _not _compensate for&nbsp;it.</p>
<p>Anyway, the implementation is actually quite simple. The current version doesn’t even break the 40 line mark, because all it does it it listens for <code>mousewheel</code> events on every page (via a content script), and it calculates the current acceleration. If that acceleration ever passes a certain threshold, it triggers a forward or back action. Right now, the threshold is preconfigured based on my own testing on a Samsung Series 5 (note, not 550) chromebook. But for people with other devices, I’m working on a second version which will be slightly more Apple-esque in its&nbsp;implementation.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2011/08/generating-the-ios-5-linen-texture-with-canvas/">Generating the iOS 5 Linen texture with Canvas</a> <span class="subtitle">19 August 2011</span></h2>
            </header>
            <section class="content"><p><a href="http://antimatter15.com/misc/linen.html"><div class="pic md" style="" ><img alt=""  src="/articles/2011/Generating%20the%20iOS%205%20Linen%20texture%20with%20Canvas/Screenshot.png" ><div class="caption">Screenshot</div></div></a>
<div class="pic md" style="" ><img alt=""  src="/articles/2011/Generating%20the%20iOS%205%20Linen%20texture%20with%20Canvas/noise-150x150.png" ><div class="caption">noise</div></div>
I guess the linen texture which is way too prevalent in Lion and iOS 5 looked pretty cool so I tried replicating the effect in canvas. It’s not instant but the texture is generated fairly quickly. It’s all done in around 20 lines of code. The basic idea is to first create a bunch of semi-transparent noise such as the stuff on the right (Though in the real one the opacity is only 3% and in the one on the right it’s been increased to 70%). To do that, we createImageData and set every fourth pixel to 6 if Math.random() &lt; 0.1. That means approximately 10% of the canvas will be semi-transparent with the rest being totally transparent. I’m not clever enough to embed some steganographic message in the ostensible noise pattern, because I’m just way too lazy for that sort of stuff. But if you think that that last sentence was actually a decoy for my master plan, feel free to waste time decoding a message which probably isn’t&nbsp;there.</p>
<p>After that, the canvas is converted to a DataURL so it can be loaded as an image. After loading the image, we iterate 40 times and call drawImage on the original canvas with an offset to make every single point into a cross-shape. <a href="http://antimatter15.com/misc/linen.html">Demo</a>.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2010/08/html5-css3-zooming-user-interface/">HTML5/CSS3 Zooming User Interface</a> <span class="subtitle">29 August 2010</span></h2>
            </header>
            <section class="content"><object style="height: 344px; width: 425px;" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="100" height="100" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="src" value="http://www.youtube.com/v/Zus6yre73Qc?version=3" /><param name="allowfullscreen" value="true" /><embed style="height: 344px; width: 425px;" type="application/x-shockwave-flash" width="100" height="100" src="http://www.youtube.com/v/Zus6yre73Qc?version=3" allowscriptaccess="always" allowfullscreen="true"></embed></object>

<p>I’m taking liberties with the <a href="http://en.wikipedia.org/wiki/Zooming_user_interface">concept of zooming user interfaces</a>, but this is an example of something that lets you browse wikipedia by zooming in toward a link, and zooming out to go back. So I guess it’s more of a z-axis spatial visualization for history somewhat similar to what I guess Apple’s Time Machine program is like (though I have never tried&nbsp;it).</p>
<p>It uses html5’s popState and pushState to get the <span class="caps">URL</span> to change without reloading the page (which, btw people should use instead of the weird /#/ urls). It uses webkit transformations, which probably aren’t part of CSS3 since it’s vendor specific, but I haven’t had time to hack it to work on firefox, <a href="http://github.com/antimatter15/zui/blob/master/zui.js">feel free to fork</a>.</p>
<pre><code><span style='display:none' detected-language='javascript'></span>javascript:(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">var</span> scale=<span class="hljs-number">1</span>,tx=innerWidth/<span class="hljs-number">2</span>,ty=innerHeight/<span class="hljs-number">2</span>,sx=innerWidth/<span class="hljs-number">2</span>,sy=innerHeight/<span class="hljs-number">2</span>;<span class="hljs-built_in">document</span>.onmousewheel=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">if</span>(a.wheelDelta){<span class="hljs-keyword">if</span>(a.wheelDelta&gt;<span class="hljs-number">0</span>)scale*=a.wheelDelta/<span class="hljs-number">1000</span>;<span class="hljs-keyword">if</span>(a.wheelDelta&lt;<span class="hljs-number">0</span>)scale/=-a.wheelDelta/<span class="hljs-number">1000</span>}scale&lt;<span class="hljs-number">0.05</span>&amp;&amp;history.go(-<span class="hljs-number">1</span>);showTransform();a.preventDefault()};<span class="hljs-built_in">window</span>.onpopstate=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{loadPage(a.state.url)}; <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showTransform</span><span class="hljs-params">()</span></span>{<span class="hljs-built_in">document</span>.body.style.webkitTransform=<span class="hljs-string">"scale("</span>+scale+<span class="hljs-string">") translate("</span>+(innerWidth/<span class="hljs-number">2</span>-tx)+<span class="hljs-string">"px,"</span>+(innerHeight/<span class="hljs-number">2</span>-ty)+<span class="hljs-string">"px)"</span>;<span class="hljs-keyword">var</span> a=<span class="hljs-built_in">document</span>.elementFromPoint(innerWidth/<span class="hljs-number">2</span>,innerHeight/<span class="hljs-number">2</span>);<span class="hljs-keyword">if</span>(a.nodeName==<span class="hljs-string">"A"</span>&amp;&amp;a.offsetWidth*scale&gt;<span class="hljs-number">0.3</span>*innerWidth&amp;&amp;a.offsetHeight*scale&gt;<span class="hljs-number">0.3</span>*innerHeight){<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"clicky"</span>);loadPage(a.href);history.pushState({url:a.href},a.href,a.href)}} <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadPage</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">new</span> XMLHttpRequest;b.open(<span class="hljs-string">"get"</span>,a,<span class="hljs-literal">true</span>);b.onload=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-built_in">document</span>.body.innerHTML=b.responseText;showTransform()};b.send(<span class="hljs-literal">null</span>);scale=<span class="hljs-number">1</span>;tx=innerWidth/<span class="hljs-number">2</span>;ty=innerHeight/<span class="hljs-number">2</span>;sx=innerWidth/<span class="hljs-number">2</span>;sy=innerHeight/<span class="hljs-number">2</span>;showTransform()}<span class="hljs-keyword">var</span> dragging=<span class="hljs-literal">false</span>;<span class="hljs-built_in">document</span>.onmousemove=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">if</span>(dragging){tx+=(sx-a.pageX)/scale;ty+=(sy-a.pageY)/scale;sx=a.pageX;sy=a.pageY;showTransform();a.preventDefault();a.stopPropagation()}}; <span class="hljs-built_in">document</span>.onmousedown=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{dragging=<span class="hljs-literal">true</span>;sx=a.pageX;sy=a.pageY;a.preventDefault()};<span class="hljs-built_in">document</span>.onclick=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{a.preventDefault()};<span class="hljs-built_in">document</span>.onmouseup=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(a)</span></span>{dragging=<span class="hljs-literal">false</span>;a.preventDefault()};})()
</code></pre><p>So that’s a bookmarklet. feel free to click it on this site and it’ll get rid of the infinite scrolling and for some reason it doesn’t work well on this site. Try it on&nbsp;wikipedia.</p>
<pre><code><span style='display:none' detected-language='clojure'></span><span class="hljs-list">(<span class="hljs-keyword">function</span><span class="hljs-list">()</span><span class="hljs-collection">{
    var scale=1,
        tx=innerWidth/2,
        ty=innerHeight/2,
        sx=innerWidth/2,
        sy=innerHeight/2,
        mx=innerWidth/2,
        my=innerHeight/2,

    document.onmousewheel=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        console.log<span class="hljs-list">(<span class="hljs-keyword">a.wheelDelta</span>, scale)</span>
        scale = Math.exp<span class="hljs-list">(<span class="hljs-keyword">Math.log</span><span class="hljs-list">(<span class="hljs-keyword">scale</span>)</span> + a.wheelDelta / <span class="hljs-number">200</span>)</span>
        if<span class="hljs-list">(<span class="hljs-keyword">scale&lt;0.05</span>)</span> history.go<span class="hljs-list">(<span class="hljs-keyword">-1</span>)</span><span class="hljs-comment">;</span>
        showTransform<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
    window.onpopstate=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        loadPage<span class="hljs-list">(<span class="hljs-keyword">a.state.url</span>)</span>
    }</span><span class="hljs-comment">;</span>
    function showTransform<span class="hljs-list">()</span><span class="hljs-collection">{
        document.body.style.webkitTransform=<span class="hljs-string">"scale("</span>+scale+<span class="hljs-string">") translate("</span>+<span class="hljs-list">(<span class="hljs-keyword">mx-tx</span>)</span>+<span class="hljs-string">"px,"</span>+<span class="hljs-list">(<span class="hljs-keyword">my-ty</span>)</span>+<span class="hljs-string">"px)"</span><span class="hljs-comment">;</span>
        var a=document.elementFromPoint<span class="hljs-list">(<span class="hljs-keyword">innerWidth/2</span>,innerHeight/2)</span><span class="hljs-comment">;</span>
        if<span class="hljs-list">(<span class="hljs-keyword">a.nodeName==</span><span class="hljs-string">"A"</span>&amp;&amp;a.offsetWidth*scale&gt;0.3*innerWidth&amp;&amp;a.offsetHeight*scale&gt;0.3*innerHeight)</span><span class="hljs-collection">{
            console.log<span class="hljs-list">(<span class="hljs-string">"clicky"</span>)</span><span class="hljs-comment">;</span>
            loadPage<span class="hljs-list">(<span class="hljs-keyword">a.href</span>)</span><span class="hljs-comment">;</span>
            history.pushState<span class="hljs-list">(<span class="hljs-collection">{url:a.href}</span>,a.href,a.href)</span>
        }</span>
    }</span> 
    function loadPage<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        var b=new XMLHttpRequest;
        b.open<span class="hljs-list">(<span class="hljs-string">"get"</span>,a,true)</span><span class="hljs-comment">;</span>
        b.onload=function<span class="hljs-list">()</span><span class="hljs-collection">{
            document.body.innerHTML=b.responseText;
            showTransform<span class="hljs-list">()</span>
        }</span><span class="hljs-comment">;</span>
        b.send<span class="hljs-list">(<span class="hljs-keyword">null</span>)</span><span class="hljs-comment">;</span>
        scale=1;
        tx=innerWidth/2;
        ty=innerHeight/2;
        sx=innerWidth/2;
        sy=innerHeight/2;
        showTransform<span class="hljs-list">()</span>
    }</span>
    var dragging=false;
    document.onmousemove=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{

        if<span class="hljs-list">(<span class="hljs-keyword">dragging</span>)</span><span class="hljs-collection">{
            tx+=<span class="hljs-list">(<span class="hljs-keyword">sx-a.pageX</span>)</span>/scale;
            ty+=<span class="hljs-list">(<span class="hljs-keyword">sy-a.pageY</span>)</span>/scale;
            sx=a.pageX;
            sy=a.pageY;
            showTransform<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            a.preventDefault<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            a.stopPropagation<span class="hljs-list">()</span>
        }</span>
    }</span><span class="hljs-comment">; </span>
    document.onmousedown=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        dragging=true;
        sx=a.pageX;
        sy=a.pageY;
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
    document.onclick=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
    document.onmouseup=function<span class="hljs-list">(<span class="hljs-keyword">a</span>)</span><span class="hljs-collection">{
        dragging=false;
        a.preventDefault<span class="hljs-list">()</span>
    }</span><span class="hljs-comment">;</span>
}</span>)</span><span class="hljs-list">()</span>
</code></pre>
            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2010/07/fluidizer-fixed-width-fluid-width-bookmarklet/">Fluidizer fixed width → fluid width bookmarklet</a> <span class="subtitle">14 July 2010</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_014.png"><div class="pic md" style="" ><img alt=""  src="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_014-300x204.png" ><div class="caption">Fluidizered</div></div></a> Yaay, fluid&nbsp;width!</p>
<p><a href="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_013.png"><div class="pic md" style="" ><img alt=""  src="/articles/2010/Fluidizer%20fixed%20width%20→%20fluid%20width%20bookmarklet/Selection_013-300x204.png" ><div class="caption">Fixed Width</div></div></a> I <span class="caps">IZ</span> NOM NOMMING ON HALF UR&nbsp;PIXELZ</p>
<p>This is another old one, something I made february fifteenth of this&nbsp;year.</p>
<p>One of the purely theoretical things that have always annoyed me, were fixed width themes. Because I <em>love</em> being a hypocrite, this blog right now is using a<a href="http://blog.carringtontheme.com/"> fixed width theme</a>. Though I probably could make up an excuse, like to serve as a decent test case for Fluidizer in part of my grand scheme detailed via embedded <a href="/2010/07/fluidizer-fixed-width-fluid-width-bookmarklet/2010/06/steganography-in-javascript/">steganographic</a> messages inside all of my screenshots. Of course that’s all a lie (however much I would like&nbsp;otherwise).</p>
<p>It’s always bothered me how some web sites have these fixed-width layouts, sometimes with insanely thin boxes allocated to content. The vast majority of my screen becomes this orange blob of text. Chrome’s visual appearance motto is “Content not chrome”. That doesn’t help if the content is being obscured by the presentation of the content (<a href="http://en.wikipedia.org/wiki/Gopher_(protocol">gopher</a>) might have solved that problem). Less chrome just means my eyes start to drown in +/- 1,732,405 pixels of orange. Even outside the extreme case, having a fixed-width layout isn’t efficient, and using something like <a href="http://lab.arc90.com/experiments/readability/">Readability</a> to <em>only</em> show the content removes the personality of the site or author, and only works on&nbsp;articles.</p>
<p>Fluidizer automatically resizes themes semi-pseudo-intelligently, and works with a lot of themes. It has several algorithms it uses, which are sort of alchemy-like and strange. I have no clue how it works, but there’s lots of strange stuff that goes on to magically do stuff. I think it even somehow has a <span class="caps">CSS</span> parser that uses CORS to load css through a server-side&nbsp;proxy.</p>
<p>Only tested in Chrome:&nbsp;[Fluidize]</p>
<pre><code><span style='display:none' detected-language='haxe'></span>javascript:(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span><span class="hljs-params">(a)</span></span>{<span class="hljs-keyword">return</span>(a||<span class="hljs-string">""</span>).replace(/^\s+|\s+$/g,<span class="hljs-string">""</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span><span class="hljs-params">(a,g)</span></span>{<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">new</span> XMLHttpRequest;b.open(<span class="hljs-string">"<span class="caps">GET</span>"</span>,<span class="hljs-string">"http://anti15.chemicalservers.com/cssproxy.php?cssurl="</span>+encodeURIComponent(a),<span class="hljs-literal">true</span>);b.onreadystatechange=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{b.readyState==<span class="hljs-number">4</span>&amp;&amp;b.status==<span class="hljs-number">200</span>&amp;&amp;g(b.responseText)};b.send()}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>,g=<span class="hljs-number">0</span>,b=<span class="hljs-literal">false</span>,h=<span class="hljs-string">"*,div,p,body,span"</span>.split(<span class="hljs-string">","</span>);!b&amp;&amp;g++&lt;<span class="hljs-number">20</span>;){<span class="hljs-keyword">if</span>(document.body.scrollWidth&gt;window.innerWidth){b=<span class="hljs-literal">true</span>;a-=<span class="hljs-number">100</span>}<span class="hljs-keyword">else</span> a+=<span class="hljs-number">100</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=d.length;c--;){<span class="hljs-keyword">var</span> f=d[c].text;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=document.querySelectorAll(f),l=i.length;l--;){<span class="hljs-keyword">var</span> n=i[l],p=parseFloat(d[c].width,<span class="hljs-number">10</span>),q=d[c].width.replace(/^[\-\d\.]+/,<span class="hljs-string">""</span>);<span class="hljs-keyword">if</span>(q!=<span class="hljs-string">"px"</span>)<span class="hljs-keyword">if</span>(q==<span class="hljs-string">"em"</span>)p*=<span class="hljs-number">16</span>;<span class="hljs-keyword">else</span> console.warn(<span class="hljs-string">"not used to handling non-px units"</span>);<span class="hljs-keyword">if</span>(p&gt;<span class="hljs-number">400</span>&amp;&amp;h.indexOf(f)==-<span class="hljs-number">1</span>){<span class="hljs-keyword">if</span>(!n.a)n.a=p;n.style.width=n.a+a+<span class="hljs-string">"px"</span>}}}<span class="hljs-keyword">catch</span>(x){}}}<span class="hljs-keyword">try</span>{c=d.length;a=<span class="hljs-number">0</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> r;c--;)<span class="hljs-keyword">if</span>(h.indexOf(d[c].text)==-<span class="hljs-number">1</span>)<span class="hljs-keyword">try</span>{<span class="hljs-keyword">var</span> j=document.querySelectorAll(d[c].text);<span class="hljs-keyword">if</span>(j.length==<span class="hljs-number">1</span>&amp;&amp;j[<span class="hljs-number">0</span>].getElementsByTagName(<span class="hljs-string">"*"</span>).length&gt;<span class="hljs-number">15</span>&amp;&amp;(j[<span class="hljs-number">0</span>]==document.body||j[<span class="hljs-number">0</span>].parentNode==document.body||j[<span class="hljs-number">0</span>].parentNode.parentNode==document.body))<span class="hljs-keyword">if</span>(parseInt(d[c].width,<span class="hljs-number">10</span>)&gt;a){a=parseInt(d[c].width,<span class="hljs-number">10</span>);r=j[<span class="hljs-number">0</span>]}}<span class="hljs-keyword">catch</span>(y){}<span class="hljs-keyword">if</span>(a&gt;<span class="hljs-number">500</span>)r.style.width=<span class="hljs-string">"100%"</span>}<span class="hljs-keyword">catch</span>(z){}}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span><span class="hljs-params">(a)</span></span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span><span class="hljs-params">()</span></span>{<span class="hljs-keyword">var</span> i=h.split(<span class="hljs-string">";"</span>).map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(l)</span></span>{<span class="hljs-keyword">if</span>(k(l.split(<span class="hljs-string">":"</span>)[<span class="hljs-number">0</span>])==<span class="hljs-string">"width"</span>)<span class="hljs-keyword">return</span> k(l.split(<span class="hljs-string">":"</span>)[<span class="hljs-number">1</span>]);<span class="hljs-keyword">return</span><span class="hljs-string">""</span>}).join(<span class="hljs-string">""</span>);b&amp;&amp;k(b)&amp;&amp;i&amp;&amp;k(i)&amp;&amp;d.push({text:k(b),width:i});h=b=<span class="hljs-string">""</span>}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b=<span class="hljs-string">""</span>,h=<span class="hljs-string">""</span>,c=<span class="hljs-number">0</span>,f=<span class="hljs-number">0</span>;f&lt;a.length;f++)<span class="hljs-keyword">if</span>(a[f]==<span class="hljs-string">"{"</span>)c=<span class="hljs-number">1</span>;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a[f]==<span class="hljs-string">"}"</span>){g();c=<span class="hljs-number">0</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c==<span class="hljs-number">0</span>)b+=a[f];<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c==<span class="hljs-number">1</span>)h+=a[f];g();o()}<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> d=[],s=document.styleSheets,t=s.length;t--;){<span class="hljs-keyword">var</span> e=s[t];<span class="hljs-keyword">if</span>(e.href&amp;&amp;!e.cssRules){console.log(e.href);u(e.href,v)}<span class="hljs-keyword">else</span>{e=e.cssRules;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> m=e.length;m--;){<span class="hljs-keyword">var</span> w=e[m].selectorText;e[m].style&amp;&amp;e[m].style.width&amp;&amp;d.push({text:w,width:e[m].style.width})}}}window.addEventListener(<span class="hljs-string">"resize"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{o()},<span class="hljs-number">100</span>)});o()})();
</code></pre>
            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2010/06/the-forward-button/">The Forward Button</a> <span class="subtitle">25 June 2010</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2010/The%20Forward%20Button/Selection_006.png"><div class="pic md" style="" ><img alt=""  src="/articles/2010/The%20Forward%20Button/Selection_006.png" ><div class="caption">Selection_006</div></div></a></p>
<p><dl id="attachment_1404" class="wp-caption alignnone" style="width: 213px;"><dd class="wp-caption-dd">Taken from the chromium site, which is really cool&nbsp;itself.</dd></dl>I would dare say that one of the least useful buttons on my browser has to be the Forward button. It’s the analogue for the far more used back button, but most of the time, people progress forward, not <a href="http://www.jonathancoulton.com/wiki/index.php/De-Evolving">backward</a> (obviously a pretty good thing). There’s still a huge bit of potential for this underused button. I have<a href="http://www.trust.com/products/product.aspx?artnr=15080"> a mouse</a> with buttons on the left side for navigating forward and back, It’s really quite nice (though the triple-click button makes me develop a tendency to click randomly when reading, which makes those sites with the double-click lookup very&nbsp;annoying).</p>
<p>One of the most horrible developments in usability has been Pagination, because someone thought it would be a great idea to split everything into annoying separate pages. Sure it was a way to get around a technical issue of browser reflow while progressively rendering and bandwidth usage. But it set a nasty precedent for the future of&nbsp;web-interaction.</p>
<p>Now we have to live with&nbsp;it.</p>
<p>So I was thinking, is there any way to use my side buttons in Javascript? I quickly <a href="http://jsbin.com">prototyped</a> a demo but to my dismay, clicks only triggered with a .button of 0, 1 or 2. Then I realized that I could programatically alter history and detect hash changes. So then came another prototype which worked by setting the <span class="caps">URL</span> to “#Math.random()” and then doing a history.go(-1), hooking onto window.onhashchange to see when something changed. Then I discovered the new HTML5 history.pushState() and onpopstate events and switched&nbsp;accordingly.</p>
<p>Now, that it’s possible to trick the browser into populating the<a href="http://ajaxian.com/archives/the-future-of-history"> future of history</a>. How do you decide what the user is probably going to next? The great thing is that if we guess wrong, it doesn’t really matter, anything is still better than a non-functional forward&nbsp;button.</p>
<p>So how do you predict where the user wants to go next? In most paginated systems, on the top and/or bottom of a post is a series of links [1] [2] [3] [4]. The current page is usually grayed out and unclickable. This makes it pretty easy to detect, just iterate each link by node order, parseInt the innerText and see if there’s a single-number jump in the middle, offset it by one and then you get the next page in&nbsp;order.</p>
<p>I actually wrote this such a long time ago that I basically forgot where the extension is and after using it, I’ve disabled it myself because chrome seems to have a few nasty bugs that cause it to crash (tabs at least) quite frequently when it’s enabled. <a href="https://gist.github.com/a828411054fe1de22be9">But here it&nbsp;is.</a></p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/10/my-ideas-for-a-browser-os-are-coming-true/">my ideas for a browser os are coming true.</a> <span class="subtitle">08 October 2009</span></h2>
            </header>
            <section class="content"><p>Yes, I know that the title is lowercase with a period in the end. It’s totally strange and inconsistent but it <em>feels</em>&nbsp;right.</p>
<p>Google’s working on a notification <span class="caps">API</span> for Chrome. Chrome has a Pin Tab feature. Firefox has Faviconize Tab. Gears has a basic privledge escalation (not very fine grained yet). Firefox shows UAC-type privledge escalation for storing data and&nbsp;Geolocation.</p>
<p>To review the old post, this is how I think Chrome <span class="caps">OS</span> might work. All user facing applications (all apps other than the window manager, kernel, browser, should be user facing) should operate in Tabs. There are two types of tabs, “pinned” tabs and normal browsing tabs. Pinned tabs are automatically loaded when the user is logged in, are only a tiny icon, but are still always&nbsp;visible.</p>
<p>There will be a unified and consistent way for the user to voluntarily grant privledges to a web site that requests it. It won’t be a catch-all i-totally-trust-this-app-to-every-bit-of-data-on-my-<span class="caps">HDD</span> sort of system that most operating systems use. It will be very fine grained, you can grant access to XHRs to a certain domain and huge warnings if the site requires access to the wildcard <em>. The privledges can extend from just accessing the notification <span class="caps">API</span>, cross domain XHR, geolocation, and <strong>communicating with other tabs</strong>. Communication with other tabs should be dome something like cross domain <span class="caps">XHR</span>, by allowing the user to grant a tab access to a certain domain/url. I would prefer the permissions dialog to be something less of a modal window that is employed by Gears or the little thing that pops up on the top for Firefox, and more of a icon that subtly appears somewhere that the user can click voluntarily. I think a UAC type stop-what-youre-doing-to-show-a-scary-message dialog is horrible and makes the user incapable of deciding intelligently. If there were a button which would make a box filled with checkboxes and a green/red gradient safety bar with messages, and educating the user that he or she really <em>*does not have to give the site permissions</em></em>).</p>
<p>A typical application such as a mail notifier would be as&nbsp;follows</p>
<pre><code><span style='display:none' detected-language='handlebars'></span><span class="xml"><span class="hljs-doctype">&lt;!doctype html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"jquery.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">
            <span class="hljs-keyword">if</span>(navigator.requestPermission){
                navigator.requestPermission(<span class="hljs-string">"xhr"</span>,<span class="hljs-string">"http://site.com/api.json"</span>)
                navigator.requestPermission(<span class="hljs-string">"notify"</span>)
            }
            setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
                <span class="hljs-keyword">if</span>(navigator.hasPermission &amp;&amp; navigator.hasPermission(<span class="hljs-string">"xhr"</span>,<span class="hljs-string">"http://site.com/api.json"</span> &amp;&amp; navigator.hasPermission(<span class="hljs-string">"notify"</span>)){
                    $(<span class="hljs-string">"#status"</span>).html(<span class="hljs-string">"<span class="caps">YAYNESS</span>! You granted Awesomeness!"</span>).css(<span class="hljs-string">"background-color"</span>,<span class="hljs-string">"green"</span>)
                    $.ajax(<span class="hljs-string">"http://site.com/api.json"</span>, {user: $(<span class="hljs-string">"#userid"</span>).val(), pass: $(<span class="hljs-string">"#pass"</span>).val()}, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span></span>{
                        $.each(data,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(message)</span></span>{
                            notify(message.summary)
                        })
                    })
                }<span class="hljs-keyword">else</span>{
                    $(<span class="hljs-string">"#status"</span>).html(<span class="hljs-string">"no permissions!"</span>)
                }
            },<span class="hljs-number">1000</span>);
        </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"status"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"background-color: red"</span>&gt;</span>No Permissions, please give me some super-powers?<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"userid"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"<span class="caps">USERNAME</span>"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"pass"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">"<span class="caps">PASSWORD</span>"</span> /&gt;</span>

        # Super Insanely Awesome Notifier!

        This is a super awesome notifier, if this doesnt work then you are an idiot or
        the internet isnt in the future yet. Here is where the about stuff and other stuff
        and stuffs that are stuffs can be put in! And if its not in the future, we all know
        the easiest way out is to blame microsoft for all our problems and say that at
        least google tried fixing our problems but it was all microsoft's fault.

    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span></span>
</code></pre><p>The great thing about the thing above is that it gracefully degrades into a functionless web page if its not running in my imaginary super browser <span class="caps">OS</span> of the future. It’s quite easy to make and requrires no API documentation (or at least for me since there’s only 2 API calls and I just totally made them up). It’s similar to the Jetpack and Chrome extensions idea in which the developer has little to learn for making an extension, but lowers the barrier even more: There’s <em>nothing</em> to learn. Whats above is just a <em>standard html5 web page with jQuery</em>. The only thing different is the hasPermission and requestPermission functions which don’t exist so I made them up. It’s not that it has anythign different, its just that the developer is thinking of the web page as a background process instead of <em>thinking</em> of it as static&nbsp;content.</p>
<p>It’s the same idea is Google Wave, it could be a Wiki, <span class="caps">IM</span>, or Email, all depending on how you <em>think</em> about&nbsp;it.</p>
<p>For the permissions system, it really doesn’t matter how it’s implemented but it really has to eventually be done. The web is getting new abilities, and things like Geolocation, Local Storage, Offline <span class="caps">SQL</span> DB, Saving to disk, Reading files, and such all require special permissions (You wouldn’t want any random site uploading your <a href="http://www.hackinthebox.org/modules.php?op=modload&amp;name=News&amp;file=article&amp;sid=5721&amp;mode=thread&amp;order=0&amp;thold=0"><span class="caps">SAM</span> file</a> from your hard disk). Each of them have their own modal type dialog which queries the user if they want to grant the permission. Eventually, things like Audio from microphone, Video from webcam, cross-domain <span class="caps">XHR</span>,  and other peripherals like toasters get their own implementation, requiring special user granted permissions, an application may want 3 or more permissions simultaneously, it becomes very obvious a more consistent UI is needed for delegating these&nbsp;abilities.</p>
<p>For the interface, its easier for both users and developers. Developers dont need to do something like write complex xml manifests showing which location the file which shows the about text is and which one is the help. Here, you just have a web page that you put stuff in. Since the interface is the page. The tab/web page is a <em>unified</em> Install Page, Help Page, About Dialog, Credits, Donation Box, everything, but <em>unified </em>(sure you could split it into multiple pages if you wanted like with any other web page)<em>.</em> Installing is just right-clicking on the tab and selecting the menu button that says “Pin Tab”. If the application requires special privledges, the user can <span style="background-color: #ffffff;">click the icon which show you what the site wants, and you just check off whatever you feel the site&nbsp;deserves.</span></p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/09/scroll-bar-improvements/">Scroll Bar Improvements</a> <span class="subtitle">18 September 2009</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2009/Scroll%20Bar%20Improvements/Screenshot.png"><div class="pic md" style="" ><img alt=""  src="/articles/2009/Scroll%20Bar%20Improvements/Screenshot.png" ><div class="caption">Screenshot</div></div></a></p>
<p>So I was reading through some long-ish articles, and logically, I stare at the scrollbar to get a rough estimation of where I am in reading&nbsp;it.</p>
<p>But, the horrible thing called comments and a <em>gasp</em> theme, makes the page appear <span class="caps">FAR</span> longer than the article. I think that browsers, with the new &lt;section&gt; &lt;header&gt; and whatever that’s in HTML5 should interpret these markings and create a smarter scrollbar like how Chrome does the statusbar with little yellow markings where occurances are found. There should be ones which indicate the end of the article, start of comments,&nbsp;etc.</p>
<p>And I’ve noticing how I’m talking about Google for just about every new post. I think that’s just abou where all the innovation is right now. Or at least all the innovation that I use and know about that gets popularized by&nbsp;media.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/08/how-i-would-design-the-browser-2-addons/">How I Would Design The Browser 2 Addons</a> <span class="subtitle">21 August 2009</span></h2>
            </header>
            <section class="content"><p>So I was watching Aza Raskin’s TechTalk on <a href="http://www.youtube.com/watch?v=Wp5Crg_KI10&amp;feature=sdig&amp;et=1250769392.47">Jetpack</a>, and I was thinking on how I would design an extension system. I would have to say to not have one, it’s just too complex, and why restrict the sound recording functionality to a taskbar. Even worse, why fragment the <span class="caps">API</span> and require someone to use Flash or &lt;audio&gt; in the page space and have a nice jetpack.future.import(“audio”) for a&nbsp;taskbar?</p>
<p>I think a good idea would to expose the power to web pages. The page could request special capabilities through a magical button dropdown or bouncy annoying notifier on a corner of the page saying permissions, populated by checkboxes of whatever features that the page wants to be able to&nbsp;use.</p>
<p>I think bookmarklets are almost perfect. Adding some more greasemonkey-like features would make it just about perfect. Scripts can run with the same permissions as the page, and the page’s permissions can be granted easily by the user (and the permissions persist through refreshes and browser restarts). Again, if functionality is not supported, things can gracefully degrade with partial&nbsp;functionality.</p>
<p>After that, is the idea of background tabs or alternatively, merging the statusbar type widgets into the tab bar. This is logical with everything merged into the page, and allows things to gracefully degrade if they don’t support the feature. You also get the benefits of being able to reorder remove, get info (which would be the contents of an extension page), etc. I think the interface for a plugin that operates in the background (like a gmail notifier) would be just a small tab that only has an icon, with special flag that makes it run on browser start (I think this could be one of the things for the permissions&nbsp;panel).</p>
<p>So one problem I see in the way Jetpack works, is that it doesn’t easily allow you to make a jetpack that hacks another running jetpack. Sure you can “fork” it, but that defeats the purpose of extensions, rather than having extensions only 1-level deep, make it work all the way down. The easy way I see is just to use the bookmarklet philosophy, and everything can mess around with anything within the page. So if you have a GMail notifier, that came out before the tab persist feature existed, you could just add a simple bookmarklet-type-greasemonkey thing that adds something to the permissions box that says “Persist Page” and then the user could check that in order to make a background GMail Notifier that runs on browser&nbsp;startup.</p>
<p>Malware is easy to fight now. Imagine if every application was forced to have a icon in the taskbar of windows at all times. Finding malware is as easy as looking for things you dont want running and closing it. And if some tab-bar autohide is to be implemented on the system, only people who are quite experienced would use 10+ extension/notifier pages and it would still be easier to recognize than finding some other strange wcultns.exe or whatever when half of the system things look like&nbsp;that.</p>
<p>With these features, Browser as an <span class="caps">OS</span> would really make sense. I wouldn’t be suprised if Google Chrome OS implements some stuff that are similar to what I’ve listed&nbsp;here.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/how-i-would-design-a-touchscreen-browser/">How I would design a touchscreen browser</a> <span class="subtitle">24 July 2009</span></h2>
            </header>
            <section class="content"><p>This is again, an old idea of mine, I drew it on a sheet of paper maybe a year ago, but I just remembered&nbsp;it.</p>
<p>A common theme with modern browser is maximizing screen estate (which I don’t actually care about, becasue I have 2 huge monitors). But if I were to have a netbook or some otherwise technically restrained device, I would think that screen estate is&nbsp;important.</p>
<p>My Idea is pretty cool. The idea is that there is only a tab bar on top. It’s as usual, allocated to the tabs, and there is on the side, a new tab button. But for this, the new tab button occupies the entire rest of the space of the tab bar, because space is precious. Sort of like the Mozilla Fennec&nbsp;browser.</p>
<p>forward and backwards navigation is achieved by throwing (not just gentle pushing, throwing, it should be kinetic, if you don’t thow hard enough, it just shows some text saying the equivalent of “throw&nbsp;harder!”).</p>
<p>At least in the way I browse, I don’t enter URLs often unless I’m on about:blank. So there is no <span class="caps">URL</span> bar. To find what URL you’re on, or to enter a new one, simply double tap on the current tab. It expands and fills the tab bar with a text box and the other tabs are condensed to&nbsp;icons.</p>
<p>Swiping down shows a drop-down for a tab with options to do things like bookmark or view&nbsp;source.</p>
<p>Thowing a tab down (which is a more violent swipe) removes the tab. Something partly inspired by the Mac <span class="caps">OS</span> X&nbsp;dock.</p>
<p>The new tab button could also be a menu, swiping down to reveal a menu of bookmarks to select&nbsp;from.</p>
<p>And the new tab page could be almost like a desktop. with widgets, gadgets and whatever (Google wave? If only I got my dev invite :’(). Well, in my idea, the top portion of the new tab page could be the <span class="caps">URL</span> bar and the rest could be whatever other browsers are doing + maybe some widgets/gadgets Dashboard or Plasma&nbsp;style.</p>

            </section>
          </article>
          <hr>
        </div>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-1367972-3', 'auto');
      ga('send', 'pageview');
      
    </script>
    <script>
      function squish(){
        document.getElementById("squishfoot").className += "squish"
      }
    </script>
    <style>
      .squish { font-size: 9px }
      .squishsquish { font-size: 8px }
      .squishsquishsquish { font-size: 7px }
      .squishsquishsquishsquish { font-size: 6px }
      .squishsquishsquishsquishsquish { font-size: 5px }
      .squishsquishsquishsquishsquishsquish { font-size: 4px }
      .squishsquishsquishsquishsquishsquishsquish { visibility: hidden }
      .squishsquishsquishsquishsquishsquishsquish-with-some-good-css-by-omrelliug { }
    </style>
    <div class="graybar bottom">
      <footer>
        <div id="squishfoot">I'm a tiny footer, please don't <a href="javascript:squish()">squish</a> me</div>
      </footer>
    </div>
  </body>
</html>