<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" href="http://localhost:8080/feed.xml" type="application/rss+xml" title="somewhere to talk about ideas and projects and stuff like everyone else">
    <link rel="stylesheet" href="/style/main.css">
    <title>stuff</title>
  </head>
  <body>
    <div class="whitebox">
      <div class="graybar top">
        <header class="top">
          <div class="slogan">somewhere to talk about random ideas and projects like everyone else</div><a href="/">
            <h1 class="logo">
              stuff
               <span class="byline">by antimatter15</span>
            </h1></a>
        </header>
      </div>
      <div id="main">
        <div class="sidebar">
          <div class="about">
            <p class="emph">
              Hi. I’m <b>Kevin Kwok</b>, and I’m currently a sophomore at <b>MIT</b>, 
              and this is my obligatory online presence or whatever.  
            </p>
            <p>
              I regularly updated this site from 2007, when I started it in elementary school, 
              to summer 2014, when it was unwittingly absorbed into an international phishing ring.
            </p>
            <p>
              But like a phoenix, hydra or the national deficit, the site is back 
              again bigger than ever (after a rather long gestation period).
            </p>
            <p>
              For more obnoxious autobiographical content 
              blended with bits of nostalgia for the old PHP-on-sketchy-free-webhosting days, click here.
            </p>
          </div><br>
          <section class="archive"><a href="/archive">
              <h2>Archive</h2></a>
            <ul>
              <li>
                <ul>
                  <li><a href="/2015/04"><span class="month">April</span> <span class="year">2015</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2014/05"><span class="month">May</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/04"><span class="month">April</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/03"><span class="month">March</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/02"><span class="month">February</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/01"><span class="month">January</span> <span class="year">2014</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2013/12"><span class="month">December</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/11"><span class="month">November</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/10"><span class="month">October</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/09"><span class="month">September</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/08"><span class="month">August</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/07"><span class="month">July</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/06"><span class="month">June</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/05"><span class="month">May</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/04"><span class="month">April</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/03"><span class="month">March</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/02"><span class="month">February</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/01"><span class="month">January</span> <span class="year">2013</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2012/12"><span class="month">December</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/11"><span class="month">November</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/10"><span class="month">October</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/09"><span class="month">September</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/08"><span class="month">August</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/07"><span class="month">July</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/06"><span class="month">June</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/05"><span class="month">May</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/04"><span class="month">April</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/03"><span class="month">March</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/02"><span class="month">February</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/01"><span class="month">January</span> <span class="year">2012</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2011/12"><span class="month">December</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/11"><span class="month">November</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/10"><span class="month">October</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/09"><span class="month">September</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/08"><span class="month">August</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/07"><span class="month">July</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/06"><span class="month">June</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/05"><span class="month">May</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/04"><span class="month">April</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/03"><span class="month">March</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/02"><span class="month">February</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/01"><span class="month">January</span> <span class="year">2011</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2010/12"><span class="month">December</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/11"><span class="month">November</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/10"><span class="month">October</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/09"><span class="month">September</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/08"><span class="month">August</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/07"><span class="month">July</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/06"><span class="month">June</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/05"><span class="month">May</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/04"><span class="month">April</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/03"><span class="month">March</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/02"><span class="month">February</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/01"><span class="month">January</span> <span class="year">2010</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2009/12"><span class="month">December</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/11"><span class="month">November</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/10"><span class="month">October</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/09"><span class="month">September</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/08"><span class="month">August</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/07"><span class="month">July</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/06"><span class="month">June</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/05"><span class="month">May</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/04"><span class="month">April</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/03"><span class="month">March</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/01"><span class="month">January</span> <span class="year">2009</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2008/12"><span class="month">December</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/11"><span class="month">November</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/10"><span class="month">October</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/09"><span class="month">September</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/08"><span class="month">August</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/07"><span class="month">July</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/06"><span class="month">June</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/05"><span class="month">May</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/04"><span class="month">April</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/01"><span class="month">January</span> <span class="year">2008</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2007/12"><span class="month">December</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/11"><span class="month">November</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/10"><span class="month">October</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/09"><span class="month">September</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/08"><span class="month">August</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/05"><span class="month">May</span> <span class="year">2007</span></a></li>
                </ul><br>
              </li>
            </ul>
          </section>
          <div class="tags">
            <h2>Tags</h2><a href="/tag/3D" style="font-size: 15px">3D </a><a href="/tag/ajax" style="font-size: 19.998766054240136px">ajax </a><a href="/tag/ajax animator" style="font-size: 19.99983298578152px">ajax animator </a><a href="/tag/api" style="font-size: 15px">api </a><a href="/tag/apple" style="font-size: 19.93307149075715px">apple </a><a href="/tag/art" style="font-size: 12.689414213699951px">art </a><a href="/tag/awesome" style="font-size: 15px">awesome </a><a href="/tag/blog" style="font-size: 17.31058578630005px">blog </a><a href="/tag/browser" style="font-size: 19.93307149075715px">browser </a><a href="/tag/bugfix" style="font-size: 17.31058578630005px">bugfix </a><a href="/tag/canvas" style="font-size: 15px">canvas </a><a href="/tag/change" style="font-size: 17.31058578630005px">change </a><a href="/tag/chrome" style="font-size: 19.999999998973813px">chrome </a><a href="/tag/chrome extension" style="font-size: 12.689414213699951px">chrome extension </a><a href="/tag/chrome os" style="font-size: 12.689414213699951px">chrome os </a><a href="/tag/chromebook" style="font-size: 12.689414213699951px">chromebook </a><a href="/tag/code" style="font-size: 15px">code </a><a href="/tag/color" style="font-size: 12.689414213699951px">color </a><a href="/tag/colors" style="font-size: 12.689414213699951px">colors </a><a href="/tag/css" style="font-size: 12.689414213699951px">css </a><a href="/tag/demo" style="font-size: 12.689414213699951px">demo </a><a href="/tag/design" style="font-size: 19.52574126822433px">design </a><a href="/tag/elitist" style="font-size: 19.820137900379084px">elitist </a><a href="/tag/evil" style="font-size: 19.52574126822433px">evil </a><a href="/tag/experiment" style="font-size: 15px">experiment </a><a href="/tag/extension" style="font-size: 19.820137900379084px">extension </a><a href="/tag/ExtJS" style="font-size: 19.820137900379084px">ExtJS </a><a href="/tag/facebook" style="font-size: 12.689414213699951px">facebook </a><a href="/tag/fast" style="font-size: 19.820137900379084px">fast </a><a href="/tag/features" style="font-size: 17.31058578630005px">features </a><a href="/tag/firefox" style="font-size: 19.975273768433652px">firefox </a><a href="/tag/flash" style="font-size: 18.807970779778824px">flash </a><a href="/tag/free" style="font-size: 12.689414213699951px">free </a><a href="/tag/function" style="font-size: 15px">function </a><a href="/tag/future" style="font-size: 17.31058578630005px">future </a><a href="/tag/GAE" style="font-size: 15px">GAE </a><a href="/tag/github" style="font-size: 17.31058578630005px">github </a><a href="/tag/google" style="font-size: 19.999999999999872px">google </a><a href="/tag/google code" style="font-size: 12.689414213699951px">google code </a><a href="/tag/google wave" style="font-size: 19.998766054240136px">google wave </a><a href="/tag/graphics" style="font-size: 15px">graphics </a><a href="/tag/hacking" style="font-size: 12.689414213699951px">hacking </a><a href="/tag/hosting" style="font-size: 19.52574126822433px">hosting </a><a href="/tag/html5" style="font-size: 19.52574126822433px">html5 </a><a href="/tag/idea" style="font-size: 15px">idea </a><a href="/tag/images" style="font-size: 12.689414213699951px">images </a><a href="/tag/interface" style="font-size: 12.689414213699951px">interface </a><a href="/tag/internet exploder" style="font-size: 19.820137900379084px">internet exploder </a><a href="/tag/ipad" style="font-size: 18.807970779778824px">ipad </a><a href="/tag/javascript" style="font-size: 19.99999999721053px">javascript </a><a href="/tag/json" style="font-size: 17.31058578630005px">json </a><a href="/tag/library" style="font-size: 12.689414213699951px">library </a><a href="/tag/lines" style="font-size: 15px">lines </a><a href="/tag/linux" style="font-size: 18.807970779778824px">linux </a><a href="/tag/login" style="font-size: 17.31058578630005px">login </a><a href="/tag/mac" style="font-size: 12.689414213699951px">mac </a><a href="/tag/magical" style="font-size: 17.31058578630005px">magical </a><a href="/tag/math" style="font-size: 12.689414213699951px">math </a><a href="/tag/meta" style="font-size: 12.689414213699951px">meta </a><a href="/tag/microsoft" style="font-size: 15px">microsoft </a><a href="/tag/microwave" style="font-size: 17.31058578630005px">microwave </a><a href="/tag/mirror" style="font-size: 12.689414213699951px">mirror </a><a href="/tag/mp3" style="font-size: 12.689414213699951px">mp3 </a><a href="/tag/multitouch" style="font-size: 15px">multitouch </a><a href="/tag/new" style="font-size: 19.52574126822433px">new </a><a href="/tag/nostalgia" style="font-size: 12.689414213699951px">nostalgia </a><a href="/tag/ocr" style="font-size: 12.689414213699951px">ocr </a><a href="/tag/offline" style="font-size: 18.807970779778824px">offline </a><a href="/tag/old" style="font-size: 18.807970779778824px">old </a><a href="/tag/onlypaths" style="font-size: 18.807970779778824px">onlypaths </a><a href="/tag/pi" style="font-size: 19.52574126822433px">pi </a><a href="/tag/player" style="font-size: 12.689414213699951px">player </a><a href="/tag/processing" style="font-size: 12.689414213699951px">processing </a><a href="/tag/prototype" style="font-size: 15px">prototype </a><a href="/tag/python" style="font-size: 19.93307149075715px">python </a><a href="/tag/raphael" style="font-size: 19.52574126822433px">raphael </a><a href="/tag/release" style="font-size: 15px">release </a><a href="/tag/rewrite" style="font-size: 15px">rewrite </a><a href="/tag/security" style="font-size: 15px">security </a><a href="/tag/shiny" style="font-size: 19.975273768433652px">shiny </a><a href="/tag/ShinyTouch" style="font-size: 15px">ShinyTouch </a><a href="/tag/site" style="font-size: 15px">site </a><a href="/tag/small" style="font-size: 19.52574126822433px">small </a><a href="/tag/speed" style="font-size: 12.689414213699951px">speed </a><a href="/tag/SVG" style="font-size: 17.31058578630005px">SVG </a><a href="/tag/touch" style="font-size: 15px">touch </a><a href="/tag/update" style="font-size: 19.999999943972036px">update </a><a href="/tag/upload" style="font-size: 18.807970779778824px">upload </a><a href="/tag/user interface" style="font-size: 12.689414213699951px">user interface </a><a href="/tag/vector" style="font-size: 15px">vector </a><a href="/tag/vectoreditor" style="font-size: 19.52574126822433px">vectoreditor </a><a href="/tag/version" style="font-size: 15px">version </a><a href="/tag/video" style="font-size: 17.31058578630005px">video </a><a href="/tag/vp8" style="font-size: 12.689414213699951px">vp8 </a><a href="/tag/vX JS" style="font-size: 19.52574126822433px">vX JS </a><a href="/tag/wave" style="font-size: 19.99999694097773px">wave </a><a href="/tag/webcam" style="font-size: 12.689414213699951px">webcam </a><a href="/tag/wikify" style="font-size: 19.820137900379084px">wikify </a><a href="/tag/wikipedia" style="font-size: 18.807970779778824px">wikipedia </a><a href="/tag/wordpress" style="font-size: 19.820137900379084px">wordpress </a>
          </div>
        </div>
        <div id="content">
          <h1>ShinyTouch</h1>
          <article class="article intro">
            <header>
              <h2><a href="/2010/07/shinytouch-opencv/">ShinyTouch/OpenCV</a> <span class="subtitle">15 July 2010</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2010/ShinyTouchOpenCV/ShinyTouch_0171.png"><img src="/articles/2010/ShinyTouchOpenCV/ShinyTouch_0171.png" alt="" title="ShinyTouch_017"></a></p>
<p>I have yet to give up entirely on <a href="/2010/07/shinytouch-opencv/2009/07/shinytouch-zero-setup-single-touch-surface-retrofitting-technology/">ShinyTouch</a>, my experiment into creating a touch screen input system which requires <strong>virtually no setup</strong>. For people who haven’t read my posts from last year, it works because magically things look shinier when you look at it from an angle. And so if you mount a camera at an angle (It doesn’t need to be as extreme as the screenshot above), you end up seeing a reflection on the surface of the screen (this could be aided by a transparent layer of acrylic or by having a glossy display, but as you can see, mine are matte, but they still work). The other pretty obvious idea of ShinyTouch, is that on a reflective surface, especially observed from a non-direct angle, you can see that the distance from the reflection (I guess my eighth grade science teacher would say the “virtual image”) to the apparent finger, or “real image” is twice the distance from either to the surface of the display.  In other words, the <strong>reflection gets closer to you when you get closer to the mirror</strong>. A webcam usually gives a two-dimensional bitmap of data (and one non-spatial dimension of time). This gives (after a perspective transform) the <strong>X and Y positions</strong> of the finger. But an important aspect of a touchscreen and what this technology is also capable of, a “zero-touch screen”, is a <strong>Z axis: the distance of the finger and the screen</strong>. A touchscreen has a binary Z-axis: touch or no touch. Since you can measure the <strong>distance between the apparent real finger and it’s reflection, you can get the Z-axis</strong>. That’s how ShinyTouch&nbsp;works.</p>
<p>Last year someone was interested and actually contributed some code. Eventually we both agreed that my code was crap so he decided to <a href="http://github.com/ddlshack/shinytouch">rewrite</a> it, this time using less <span class="caps">PIL</span> and pixel manipulation, and instead, opting for more OpenCV so it’s faster. The project died a bit early this year, and with nothing more to do,<a href="http://github.com/antimatter15/shinytouch"> I decided to revive it</a>. His code had some neat&nbsp;features:</p>
<ul>
<li>Better perspective&nbsp;performs</li>
<li>Faster</li>
<li>Less&nbsp;Buggy</li>
<li>Simpler configuration (track bars instead of key combinations and editing <span class="caps">JSON</span>&nbsp;files)</li>
<li><p>Yellow square to indicate which corner to click when callibrating (actually, <a href="http://github.com/ddlshack/shinytouch/commit/9df521a08c8a12e6b8d1aa58d665394faaaac10f">I wrote</a> that feature)
It was left however, at a pretty unfinished state. It couldn’t do anything more than generate config files through a nice <span class="caps">UI</span> and doing a perspective transform on the raw video feed. So in the last few days, I added a few more&nbsp;features.</p>
</li>
<li><p>Convert perspective-transformed code into&nbsp;grayscale</p>
</li>
<li>Apply a 6x6 gaussian blur&nbsp;filter</li>
<li>Apply a binary threshold&nbsp;filter</li>
<li>Copy it over to <span class="caps">PIL</span> and shrink the canvas by 75% for performance&nbsp;reasons</li>
<li>Hack a Python flood-fill function to do blob detection (because I couldn’t compile any python bindings for the opencv blob&nbsp;library)</li>
<li>Filter those blobs (sort of)
Basically, it means ShinyTouch can now do multi-touch. Though the Z-axis processing, which is really what the project is all about still sucks. Like it sucks <em>a lot</em>. But when it does work (on a rare occasion), <strong>you get multitouch</strong> (yay). If <span class="caps">TUIO</span> gets ported (again), it’ll probably be able to interface with all the neat TUIO based&nbsp;apps.</li>
</ul>
<p>Code here: <a href="http://github.com/antimatter15/shinytouch/">http://github.com/antimatter15/shinytouch/</a> Please help, you probably don’t want to try it&nbsp;(yet).</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/08/shinytouch-js/">ShinyTouch/JS</a> <span class="subtitle">28 August 2009</span></h2>
            </header>
            <section class="content"><p>Yay for yet another demo that strives to mix an mash almost everything <span class="caps">HTML5</span> related! ShinyTouch in JS dumps the stuff from a &lt;video&gt; tag with ogg encoded video (well, almost all video from linux is ogg encoded so it’s just whatever format i got first from cheese). It gets dumped into &lt;canvas&gt; and getImageData does it’s&nbsp;magic.</p>
<p>Interestingly, if you don’t use the video and just do data from a raw image, you get upwards of 125fps on V8. Adding the video, it ceases to work on Chromium (maybe a linux thing? <a href="http://code.google.com/p/chromium/issues/detail?id=16225">this</a> tells me it’s just linux, but you can never be so&nbsp;sure).</p>
<pre><code><span style='display:none' detected-language='coffeescript'></span><span class="hljs-regexp">//</span>At <span class="hljs-keyword">this</span> point, run away as the algorithm gets messy <span class="hljs-keyword">and</span> hackish
</code></pre><p>So the thing just searches from right to left up to down within the quad. When it finds a column of something that fits the rgb range of the finger that is larger than a certain threshold, it checks for a reflection from the point. If it detects a reflection then yay! it throws the data at the perspective warper (based on a python one which is based on a C# one and though it would probably be easier to port from C# to <span class="caps">JS</span> making long chains of derivative work is fun). If there wasnt a reflection then it logs that and if that number is larger than some othe rthreshold then it kills the scanning and goes on with it’s life. The reflection algorithm just takes the point 5 pixels to the right and assumes that would be a reflection if there was one and a point 15px above and 5px to the left (nasty stuff) and takes the hue value from their RGB values. It takes the absolute value of the difference of the hue values multiplied by 100 (or 200 in the python version) and compares it with a preset configuration&nbsp;variable.</p>
<p>So now that that horrible algorithm which was just whatever came to my little totally untrained mind first. But it works semi-decently, at least for me. But you can hopefully see how nasty it’s inner workings are and it inspires people to clean it up. It’s quite a bit more readable than the Python version and only 200 lines of <span class="caps">JS</span> so it won’t be <em>too</em> hard to&nbsp;understand.</p>
<p>But since <span class="caps">HTML5</span> has no Video capture thing for webcams, and my webcam doesn’t work with flash so I can’t use that canvas&lt;-flash webcam bridge i built, uh, almost 2 years ago. So now you just get to gaze at my finger moving for like 20&nbsp;seconds!</p>
<p><a href="http://antimatter15.com/misc/shiny/shinytouch.html">http://antimatter15.com/misc/shiny/shinytouch.html</a></p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/08/shinytouch-videos/">ShinyTouch Videos</a> <span class="subtitle">26 August 2009</span></h2>
            </header>
            <section class="content"><object width="425" height="344"><param name="movie" value="http://www.youtube.com/v/DCq6tKZeoV0&hl=en&fs=1&"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/DCq6tKZeoV0&hl=en&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="344"></embed></object>

<object width="425" height="344"><param name="movie" value="http://www.youtube.com/v/fRfRQtauvc4&hl=en&fs=1&"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/fRfRQtauvc4&hl=en&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="344"></embed></object>

<p>The first one is shot from recordMyDesktop-gtk and the second one is from Cycorder on my&nbsp;iPhone.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/08/shinytouch-perspective-transform/">Shinytouch Perspective Transform</a> <span class="subtitle">23 August 2009</span></h2>
            </header>
            <section class="content"><p><strong>Shinytouch perspective transforms now&nbsp;work!</strong></p>
<p>One big issue with ShinyTouch is that it didn’t transform points correctly, but now it has been totally resolved by stealing <a href="http://wiiwhiteboard.cvs.sourceforge.net/viewvc/*checkout*/wiiwhiteboard/source/linux/perspective.py?revision=1.2&amp;content-type=text%2Fplain">this</a> (<span class="caps">MIT</span> licensed) from the linux (python!) port of Wiimote Whiteboard (Johnny lee’s famous work). Now it works totally insanely awesomely, no elitists&nbsp;necessary.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/08/tuio-support/">TUIO Support</a> <span class="subtitle">01 August 2009</span></h2>
            </header>
            <section class="content"><p>So even though the algorithms that transform the calibration box aren’t working accurately yet, <span class="caps">TUIO</span> support has been made, so you can use apps like TUIO Mouse to control your computer and other touch demo&nbsp;things.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/08/shinytouch-images/">ShinyTouch Images</a> <span class="subtitle">01 August 2009</span></h2>
            </header>
            <section class="content"><p>This is the app running, notice that it’s not yet been calibrated&nbsp;yet.</p>
<p><img src="/articles/2009/ShinyTouch%20Images/screenshot_012_YR3t87.png" alt=""></p>
<p>Here is the auto-calibration process, it alternates between black and white
<img src="/articles/2009/ShinyTouch%20Images/screenshot_011_wZ7Pn1.png" alt=""></p>
<p>This is part of Auto-Calibration.
<img src="/articles/2009/ShinyTouch%20Images/screenshot_005_6MQO0S.png" alt=""></p>
<p>This is some stuff from the command line:
<img src="/articles/2009/ShinyTouch%20Images/screenshot_007_2rbhHD.png" alt=""></p>
<p>This is just hovering over the screen, notice it’s not touching, and the algorithm can distinctly recognize the lack of a touch because the reflection is seperated from the finger by a significant gap. (Compare the top red bar).
<img src="/articles/2009/ShinyTouch%20Images/screenshot_006_nV186Y.png" alt=""></p>
<p>This is a actual touch, you can see that the red bar is far larger, and it’s very distinctly a touch event.
<img src="/articles/2009/ShinyTouch%20Images/screenshot_008_117vhL.png" alt=""></p>
<p>There’s a draw tool and, here is a primitive drawing of a smiley. The dots come from an issue with <span class="caps">PIL</span>/OpenCV or something that makes the image all chopped up and sends the point to an arbitary point on the screen.
<img src="http://antimatter15.com/misc/img/purty2009-07-21T19:23:30.080675.png" alt=""></p>
<p>This is the magical sensor the whole thing is powered by: An unmodified Playstation 3 Eye on a tissue box with a pink Office Depot eraser on the back (because the camera is made tilted and the script can’t handle those tilts very well)
<img src="/articles/2009/ShinyTouch%20Images/screenshot_013_5jru8J.png" alt=""></p>
<p>It’s not too insanely slow either. This is 31 frames per second coming from a pure python app, all from a scripting language. It is nowhere as fast as the normal fast native&nbsp;apps.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/shinytouch-is-1-month-old/">ShinyTouch is 1 month old</a> <span class="subtitle">28 July 2009</span></h2>
            </header>
            <section class="content"><p>For as long as my notes show, ShinyTouch is now 1 month&nbsp;old.</p>
<p>So today, I added VideoCapture support, so it will now work better on&nbsp;Windows.</p>
<p>Auto calibration has been rewritten, and a few other small&nbsp;changes.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/shinytouch-auto-calibration/">ShinyTouch Auto-Calibration</a> <span class="subtitle">25 July 2009</span></h2>
            </header>
            <section class="content"><p>A few days ago I started working on auto calibration for shinytouch. Someone worked it a bit brfire and gave some PyGTK code that did fullscreen correctly but I ended up getting too confused (especially with embedding the video and images and threading delays). So now I started from scratch (or moreover continuing with using pygame) and now it is inherently not full screen. The auto calibration works by setting the contents of he window to be one color and taking a snapshot. After that the color is changes again and the snapshot is once again recorded. After gathering a pair, the software compares them pixel by pixel. It takes multiple trials and takes the&nbsp;average.</p>
<p>Then there is a function that makes cool stuff happen. It goes right to left to search for massive groups of consecutively marked hot pixel change areas. Ir searches for a general trapezoidal shape. And takes the lenghs and heights and positions. And right now, typing on my iPhone I wish the spell corrector was as awesome as the google wave contextual system.
So in the near future, shinytouch will be as simple as launchingthe app and hitting a calibrate button and the computer does the rest. Maybe it might ask you to touch the screen in a special magic box or click on your finger afterwards but overall, zero setup and almost no calibration.
So on another note, shinytouch is now almost a month old idea-wise. In my idea book, the references to it date back to June 28, though it may have originated a few days prior. For shinytouch the beginning window is quite a bit more broad. Anywhere from last year to march. I seem to recall late January experimentation with mirrors.
So now,
With shinytouch being the more promising (more acessible and radical) I have stalled development on mirrortouch. It’s quite annoying how fast time passes. There is so much that I really want to do but there is nost not enough&nbsp;time.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/new-shinytouch-algorithms/">New ShinyTouch Algorithms</a> <span class="subtitle">21 July 2009</span></h2>
            </header>
            <section class="content"><p>The algorithms are nearing completion. They now function most of the time and are fairly situation-agnostic and mostly&nbsp;zero-config.</p>
<p>A cool new thing it does now is using the <span class="caps">HSV</span> color space rather than the RGB one and comparing the hue values. It turns out that this creates the most noticable difference between colors and it can easily tell different colors and shapes&nbsp;apart.</p>
<p>There is also a new shape-detection system, because all previous ones checked colors. This works by getting a sample of the finger color and the background color and comparing the closeness of surrounding pixels to each one. It ends when it finds a pixel closer to the bg than the finger. This one is truly zero&nbsp;config.</p>
<p>Another one checks the similarities in hue of the alleged reflection color and the known bg color. If it’s not similar enough, then it is recognized as a touch. It does use some configuration, but it shouldn’t vary much from situation-to-situation to require serious&nbsp;configuration.</p>
<p>There is also a new failure, which is generating a supposed ideal sum ratio to detect things (which is how the newly old one worked backwards). Though it spawned a new version that uses <span class="caps">HSV</span> instead, and it works pretty&nbsp;well.</p>
<p>Also, almost all the functions now create bar-graph visualizations. Very futuristic and augmented-reality&nbsp;style.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/shinytouch-ideas/">ShinyTouch ideas</a> <span class="subtitle">13 July 2009</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2009/ShinyTouch%20ideas/l_256_241_985F88AA-12C1-4F04-A56D-1A726CB6854C.jpeg"><img src="/articles/2009/ShinyTouch%20ideas/l_256_241_985F88AA-12C1-4F04-A56D-1A726CB6854C.jpeg" alt="Is this the end goal of ShinyTouch?" title="l_256_241_985F88AA-12C1-4F04-A56D-1A726CB6854C.jpeg"></a></p>
<p>One potential I see for shinytouch is the ability for it to be embedded in a flash application which can be embedded into a web page. Then there could be a web 2.0 style <span class="caps">JS</span> API for awesome canvas tag based creations. Or it could just be used to interact with another flash application or game.
The reason why this is more likely able to be used as such is because setup for this is so easy that this could actually convince people to do it. With other systems you really have to convince people really well to be dedicated enough to set up the hardware whatever it is. At that point, the software is the easy part and the audience is more than glad to go through the hassle of downloading, running, configuring, and maybe even compiling.
But with shinytouch aiming at a different, larger and overall lazier (myself included in this group) audience. This means that it is really important to lower the entry barrier to the lowest possible level. I think being able to just move the webcam a little bit, go to a website and follow simple directions to use their own touchscreen is a very potentially attractive concept. It could even spawn more interest in the touchscreen, natural user interface communities.
This is really what I want he project to end up like. It seems quite practical to me. How do you feel about&nbsp;this?</p>
<p>(note that this is my second post entirely from my&nbsp;iPhone)</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/shinytouch-progress-update-fresnel-s-equations/">ShinyTouch Progress Update + Fresnel's Equations</a> <span class="subtitle">12 July 2009</span></h2>
            </header>
            <section class="content"><p>So I was looking through wikipedia to find out  if there were some magical equations to govern how it should mix the color of the background screen contents and the reflection and make the application work better. I think Fresnel’s equations fit that description. It basically gives the reflectiveness of the substance from information about the substance, the surrounding substance (air) and the angle of&nbsp;incidence.</p>
<p><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/Fresnel2.png" alt="Well, this image really is quite intimidating. I wont even pretend to understand it, but it looks like Fresnels equations with different values of n1 and n2 (some ratio for different temperatures). And is the plot on the right the same Total Internal Reflection in FTIR?" title="A really intimidating image from none other than Wikipedia"></p>
<p>It’s quite interesting, partly because the shinyness (and thus the ratios used to combine the background color with the finger to compare) depends on the angle of the webcam to the finger, which depends on the distance (yay for trigonometry?). So the value used isn’t the 50-50 ration that it currently uses in the algorithm universally, but it’s dependent on variables to Fresnel’s Equations and the distance of the&nbsp;finger.</p>
<p><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/camhandangle-251x300.png" alt="I forgot what this was supposed to describe" title="I forgot what this was supposed to describe"></p>
<p>Anyway, time for a graphic that doesn’t really explain anything because I lost my train of thought while trying to understand how to use&nbsp;Inkscape!</p>
<p>So here’s something more descriptive. The two hands (at least it’s not 3, and why they’re just lines with no fingers isn’t my fault) and they’re positioned at different locations, one (hand 1) is close to the camera while the second (hand 2) is quite far away. Because of magic and trigonometry, the angle of the hand is greater when it’s further away. Also, this plugs into Fresnel’s Equations which mean the surface is shinier for where hand 2 is touching while it’s less shiny for hand 1. So the algorithm has to adjust for the variation (and if this works, then it might not need the complex region specific range&nbsp;values).</p>
<p><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/yayfortrig.png" alt="Notice how Angle 2 for hand 2 is much larger than angle 1 because of how it" title="Yay For Trig!"></p>
<p>So here it’s pretty ideal to have the angle be pretty extreme right? Those graphs sure seem imply that extreme angles are a good thing. But no, because quite interestingly, the more extreme the angle is, then the less accurate the measures from the <em>x</em> axis become. So in the image below, you can see that <em>cam b</em> is farther from the monitor (and thus has a greater angle from the monitor) and it can discern far more accurately depth than than <em>cam a</em>. The field of view for <em>cam a</em> is squished down to that very thin angle whereas the <em>cam b</em> viewing area is far larger. Imagine if there was a <em>cam c</em> which was mounted directly in front of the monitor, it would suffer from no compression of the <em>x</em> axis like <em>a _or _b</em> but instead it has full possible&nbsp;depth.</p>
<p><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/precision.png" alt="the more extreme the angle is, then the lower the resolution of the usable x axis becomes. So while you get better accuracy (shinier = easier to detect) the accuracy point you can reduce it to declines proportionally." title="Extreme angles have lower precision"></p>
<p>So for the math portion, interestingly, the plot for the decline in % of the total possible width is equivalent to the 1-sin() (I think, but if I’m wrong then it could be cos() and i suck at math&nbsp;anyway).</p>
<p><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/oohmoretrig.png" alt="So since it" title="More Trig!"></p>
<p>So if you graph out 1-sin(n) then you get a curve where it starts at 100% when the angle the camera is positioned at is 0 degrees from an imaginary line perpendicular to the center of the surface, and it approaches 0% as the degree measure reaches 90&nbsp;deg.</p>
<p>So interestingly when you plot it, basically what happens is a trade-off between the angle the camera is at and the precision (% of ideal maximum horizontal resolution) and accuracy (shinyness of reflection). I had the same theory a few days ago, even before I discovered Fresnel’s Equations, though mine was more linear. I thought that it was just a point in which the values dropped for the shinyness. I thought that the reason the monitor was shinier from the side is that it was beyond the intended viewing angle, so since there is less light at the direction, the innate shinyness is more&nbsp;potent.</p>
<p>So what does this mean for the project? Well, it confirms my initial thoughts that this is far too complicated for me to do alone, and makes me quite sad (partly because of the post titled Fail that was published in january). It’s really far too complicated for me. Right now the algorithm I use is very approximate (and noticably so). The formula improperly adjusts for perception and so if you try to draw a straight line across the monitor, you end up with a curved section of a&nbsp;sinusoidal-wave.</p>
<p><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/purty2009-07-10T191119.247602.png" alt="Trying to draw a straight line across the screen ends up looking curved because it uses a linear approximate distortion adjustment algorithm. Note that the spaces between the bars is because of the limited horizontal resolution, partly due to the angle, mostly due to hacks for how slow python is." title="Issues with algorithm"></p>
<p>So it’s far more complicated than I could have imagined at first, and I imagined it as far too complicated for me to venture in this alone. But I’m trying even with this sub-ideal situation. So the rest of the algorithm for now will also remain with more linear approximations. I’m going to experiment in making more linear approximations of the plot of Fresnel’s equations. And hopefully it’ll work this&nbsp;time.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/shinytouch-zero-setup-single-touch-surface-retrofitting-technology/">ShinyTouch Zero Setup Single Touch Surface Retrofitting Technology</a> <span class="subtitle">11 July 2009</span></h2>
            </header>
            <section class="content"><p>So Mirrortouch is really nice, it’s quite accurate, very fast, quite cheap and it’s my idea&nbsp;:)</p>
<p>But while trying to hook up the script to my webcam and looking at the live webcam feeds from it pointing at my monitor (aside from the awesome infinite-mirror effect!) I discovered an effect that’s quite painfully obvious but dismissed earlier:&nbsp;reflection.</p>
<p>So a few months ago, I just sat in the dark with a few flashlights and a 6in square block of acrylic. I explored the multitouch technologies with them. Shining the flashlight through the side, I can replicate the <span class="caps">FTIR</span> (Frustrated Total Internal Reflection) effect used in almost all multitouch systems. Looking from under, with a sheet of paper over and shining the flashlight up, I can experiment with Rear DI (Diffused Illumination). Shining it from the side but above the surface, I can see the principle of LLP Laser Light Plane, actually here, it’s more accurately like LED-LP). MirrorTouch is from looking at it with one end tilted torward a&nbsp;mirror.</p>
<p>If you look at a mirror, and look at it not directly on, but at an angle, however slight, you can notice that the reflection (or shadow, or virtual image whatever you want to call it) only appears comes in “contact” with the real image (the finger) when the finger is in physical contact with the reflective medium. From the diagram below, you can see the essence of the effect. When there is a touch, the reflection is to the immediate right (in this camera positioning) of the finger. If the reflection is not to the immediate right, then it is not a&nbsp;touch.</p>
<p><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/ShinyTouchSketch.png" alt="From the perspective of the camera" title="ShinyTouch Diagram"></p>
<p>It’s a very very simple concept, but I disregarded it because real monitors aren’t that shiny. But when I hooked the webcam up to the monitor, it turns out it is. I have a matte display, and it’s actually really shiny from a moderately extreme&nbsp;angle.</p>
<p>So I hacked the MirrorTouch code quite a bit and I have something new: ShinyTouch (for the lack of a better name). ShinyTouch takes the dream of MirrorTouch one step further by reducing setup time to practically nothing. Other than the basic unmodified webcam, it takes absolutely nothing. No mirrors, no powered light sources, no lasers, speakers, batteries, bluetooth, wiimotes, microphones, acrylic, switches, silicon, colored tape, vellum, paper, tape, glue, soldering, LEDs, light bulbs, bandpass filters, none of that. Just mount your camera at whatever looks nice and run the&nbsp;software.</p>
<p>And for those who don’t really pay attention, this is more than finger tracking. A simple method of detecting the position of your fingers with no knowledge of the depth is not at all easy to use. The Wiimote method and the colored-tape methods are basically&nbsp;this.</p>
<p>The sheer simplicity of the hardware component is what really makes the design attractive. However, there is a cost. It’s not multitouch capable (actually it is, but the occlusion that it suffers from will deny the ability for any commonly used multitouch gestures). It’s slower than MirrorTouch. It doesn’t work very well in super bright environments and it needs&nbsp;calibration.</p>
<p>Calibration is at current stages of development, excruciatingly complicated. However, it can be simplified to be quite simple in comparison. The current one involves painful color value extraction manually from an image editor of your choice. Then it needs to run and you need to fix the color diff ranges. Before that you need to do a 4-click monitor calibration (which could theoretically be eliminated). But it could be reduced by making the camera detect a certain color pattern from the monitor to find out the corners and totally remove the 4 point clicking calibration. After that, the screen could ask you to click a certain box on the screen which would be captured pre-touch and post-touch and diff’d to get a finger <span class="caps">RGB</span> range. From that point, the user would be asked to follow a point as it moves around the the monitor to gather a color reflection diff&nbsp;range.</p>
<p>The current algorithm is quite awesome. It searches the grid pixel-by-pixel scanning horizontally from the right to the left (not left to right). Once it finds a row of 3 pixel matches for the finger color, it stops parsing and records the point and passes it over to the reflection analysis program. There are/were 3 ways to search for the reflection. The first one I made is a simple diff between the reflection and the surrounding. It finds the difference between the color of the point immediately to the right and the point to the top-right of the finger. The idea is that if there is no reflection, then the colors should basically roughly match and if it’s not then you can roughly determine that it is a&nbsp;touch.</p>
<p>This was later superseded by something that calculates the average of the color of the pixel on the top-right of the finger and the color of the finger. The average should theoretically equate the color of the reflection, so it diffs the averaged color with the color to the immediate right (the hypothetical reflection) and compares&nbsp;them.</p>
<p>There was another algorithm that is really simple for when it’s very very bright (near a window or something) and the reflection is totally overshadowed (pardon the pun, it wasn’t really intended) by the finger’s shadow. So instead of looking for a reflection, it looks for a shadow, which the agorithm thinks of as just a dark patch (color below a certain threshold). That one is obvoiusly the simples, and not really reliable&nbsp;either.</p>
<p>One big issue is that currently, the ranges are global, but in practice, the ranges need to vary for individual sections of the screen. So the next feature that should be implemented is dividing the context into several sections of the screen each with their own color ranges. It’s a bit more complex than the current system but totally&nbsp;feasable.</p>
<p>So the current program has the ability to function as a crude paint program and some sample images are on the bottom portion of this&nbsp;post.</p>
<p><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-02T184647.550169-300x225.png" alt="Hai!!!!" title="purty2009-07-02T18:46:47.550169"></p>
<p><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-10T192153.657122-300x225.png" alt="Yayness!" title="purty2009-07-10T19:21:53.657122"></p>
<p><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-10T191406.879415-300x225.png" alt=":)" title="purty2009-07-10T19:14:06.879415"></p>
<p><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-02T184809.650197-300x225.png" alt="No." title="purty2009-07-02T18:48:09.650197"></p>

            </section>
          </article>
          <hr>
        </div>
      </div>
    </div>
    <script>
      function squish(){
        document.getElementById("squishfoot").className += "squish"
      }
    </script>
    <style>
      .squish { font-size: 9px }
      .squishsquish { font-size: 8px }
      .squishsquishsquish { font-size: 7px }
      .squishsquishsquishsquish { font-size: 6px }
      .squishsquishsquishsquishsquish { font-size: 5px }
      .squishsquishsquishsquishsquishsquish { font-size: 4px }
      .squishsquishsquishsquishsquishsquishsquish { visibility: hidden }
    </style>
    <div class="graybar bottom">
      <footer>
        <div id="squishfoot">I'm a tiny footer, please don't <a href="javascript:squish()">squish</a> me</div>
      </footer>
    </div>
  </body>
</html>