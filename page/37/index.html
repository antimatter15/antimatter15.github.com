<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" href="http://localhost:8080/feed.xml" type="application/rss+xml" title="somewhere to talk about ideas and projects and stuff like everyone else">
    <link rel="stylesheet" href="/style/main.css">
    <title>stuff</title>
  </head>
  <body>
    <div class="whitebox">
      <div class="graybar top">
        <header class="top">
          <div class="slogan">somewhere to talk about random ideas and projects like everyone else</div><a href="/">
            <h1 class="logo">
              stuff
               <span class="byline">by antimatter15</span>
            </h1></a>
        </header>
      </div>
      <div id="main">
        <div class="sidebar">
          <div class="about">
            <p class="emph">
              Hi. I’m <b>Kevin Kwok</b>, and I’m currently a sophomore at <b>MIT</b>, 
              and this is my obligatory online presence or whatever.  
            </p>
            <p>
              I regularly updated this site from 2007, when I started it in elementary school, 
              to summer 2014, when it was unwittingly absorbed into an international phishing ring.
            </p>
            <p>
              But like a phoenix, hydra or the national deficit, the site is back 
              again bigger than ever (after a rather long gestation period).
            </p>
            <p>
              For more obnoxious autobiographical content 
              blended with bits of nostalgia for the old PHP-on-sketchy-free-webhosting days, click here.
            </p>
          </div><br>
          <section class="archive"><a href="/archive">
              <h2>Archive</h2></a>
            <ul>
              <li>
                <ul>
                  <li><a href="/2015/04"><span class="month">April</span> <span class="year">2015</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2014/12"><span class="month">December</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/06"><span class="month">June</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/05"><span class="month">May</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/04"><span class="month">April</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/03"><span class="month">March</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/02"><span class="month">February</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/01"><span class="month">January</span> <span class="year">2014</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2013/12"><span class="month">December</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/11"><span class="month">November</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/10"><span class="month">October</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/09"><span class="month">September</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/08"><span class="month">August</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/07"><span class="month">July</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/06"><span class="month">June</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/05"><span class="month">May</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/04"><span class="month">April</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/03"><span class="month">March</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/02"><span class="month">February</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/01"><span class="month">January</span> <span class="year">2013</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2012/12"><span class="month">December</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/11"><span class="month">November</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/10"><span class="month">October</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/09"><span class="month">September</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/08"><span class="month">August</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/07"><span class="month">July</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/06"><span class="month">June</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/05"><span class="month">May</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/04"><span class="month">April</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/03"><span class="month">March</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/02"><span class="month">February</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/01"><span class="month">January</span> <span class="year">2012</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2011/12"><span class="month">December</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/11"><span class="month">November</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/10"><span class="month">October</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/09"><span class="month">September</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/08"><span class="month">August</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/07"><span class="month">July</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/06"><span class="month">June</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/05"><span class="month">May</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/04"><span class="month">April</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/03"><span class="month">March</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/02"><span class="month">February</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/01"><span class="month">January</span> <span class="year">2011</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2010/12"><span class="month">December</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/11"><span class="month">November</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/10"><span class="month">October</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/09"><span class="month">September</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/08"><span class="month">August</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/07"><span class="month">July</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/06"><span class="month">June</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/05"><span class="month">May</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/04"><span class="month">April</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/03"><span class="month">March</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/02"><span class="month">February</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/01"><span class="month">January</span> <span class="year">2010</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2009/12"><span class="month">December</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/11"><span class="month">November</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/10"><span class="month">October</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/09"><span class="month">September</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/08"><span class="month">August</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/07"><span class="month">July</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/06"><span class="month">June</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/05"><span class="month">May</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/04"><span class="month">April</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/03"><span class="month">March</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/01"><span class="month">January</span> <span class="year">2009</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2008/12"><span class="month">December</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/11"><span class="month">November</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/10"><span class="month">October</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/09"><span class="month">September</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/08"><span class="month">August</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/07"><span class="month">July</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/06"><span class="month">June</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/05"><span class="month">May</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/04"><span class="month">April</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/01"><span class="month">January</span> <span class="year">2008</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2007/12"><span class="month">December</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/11"><span class="month">November</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/10"><span class="month">October</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/09"><span class="month">September</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/08"><span class="month">August</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/05"><span class="month">May</span> <span class="year">2007</span></a></li>
                </ul><br>
              </li>
            </ul>
          </section>
          <div class="tags">
            <h2>Tags</h2><a href="/tag/3D" style="font-size: 13px">3D </a><a href="/tag/actionscript" style="font-size: 11px">actionscript </a><a href="/tag/ajax" style="font-size: 20px">ajax </a><a href="/tag/ajax animator" style="font-size: 20px">ajax animator </a><a href="/tag/animation" style="font-size: 11px">animation </a><a href="/tag/api" style="font-size: 13px">api </a><a href="/tag/apple" style="font-size: 20px">apple </a><a href="/tag/art" style="font-size: 11px">art </a><a href="/tag/awesome" style="font-size: 13px">awesome </a><a href="/tag/blog" style="font-size: 17px">blog </a><a href="/tag/browser" style="font-size: 20px">browser </a><a href="/tag/bugfix" style="font-size: 15px">bugfix </a><a href="/tag/canvas" style="font-size: 15px">canvas </a><a href="/tag/change" style="font-size: 15px">change </a><a href="/tag/chrome" style="font-size: 20px">chrome </a><a href="/tag/chrome extension" style="font-size: 11px">chrome extension </a><a href="/tag/chrome os" style="font-size: 11px">chrome os </a><a href="/tag/chromebook" style="font-size: 11px">chromebook </a><a href="/tag/code" style="font-size: 13px">code </a><a href="/tag/color" style="font-size: 11px">color </a><a href="/tag/colors" style="font-size: 11px">colors </a><a href="/tag/css" style="font-size: 11px">css </a><a href="/tag/demo" style="font-size: 11px">demo </a><a href="/tag/design" style="font-size: 20px">design </a><a href="/tag/elitist" style="font-size: 20px">elitist </a><a href="/tag/evil" style="font-size: 19px">evil </a><a href="/tag/experiment" style="font-size: 15px">experiment </a><a href="/tag/extension" style="font-size: 20px">extension </a><a href="/tag/ExtJS" style="font-size: 20px">ExtJS </a><a href="/tag/facebook" style="font-size: 11px">facebook </a><a href="/tag/fast" style="font-size: 20px">fast </a><a href="/tag/features" style="font-size: 15px">features </a><a href="/tag/firefox" style="font-size: 20px">firefox </a><a href="/tag/flash" style="font-size: 17px">flash </a><a href="/tag/free" style="font-size: 11px">free </a><a href="/tag/function" style="font-size: 13px">function </a><a href="/tag/future" style="font-size: 15px">future </a><a href="/tag/GAE" style="font-size: 13px">GAE </a><a href="/tag/github" style="font-size: 15px">github </a><a href="/tag/google" style="font-size: 20px">google </a><a href="/tag/google wave" style="font-size: 20px">google wave </a><a href="/tag/graphics" style="font-size: 15px">graphics </a><a href="/tag/hacking" style="font-size: 11px">hacking </a><a href="/tag/hosting" style="font-size: 19px">hosting </a><a href="/tag/html5" style="font-size: 19px">html5 </a><a href="/tag/idea" style="font-size: 13px">idea </a><a href="/tag/images" style="font-size: 11px">images </a><a href="/tag/interface" style="font-size: 11px">interface </a><a href="/tag/internet exploder" style="font-size: 20px">internet exploder </a><a href="/tag/ipad" style="font-size: 17px">ipad </a><a href="/tag/javascript" style="font-size: 20px">javascript </a><a href="/tag/json" style="font-size: 15px">json </a><a href="/tag/library" style="font-size: 11px">library </a><a href="/tag/lines" style="font-size: 13px">lines </a><a href="/tag/linux" style="font-size: 17px">linux </a><a href="/tag/login" style="font-size: 15px">login </a><a href="/tag/mac" style="font-size: 11px">mac </a><a href="/tag/magical" style="font-size: 15px">magical </a><a href="/tag/math" style="font-size: 11px">math </a><a href="/tag/meta" style="font-size: 13px">meta </a><a href="/tag/microsoft" style="font-size: 13px">microsoft </a><a href="/tag/microwave" style="font-size: 15px">microwave </a><a href="/tag/mirror" style="font-size: 11px">mirror </a><a href="/tag/mp3" style="font-size: 11px">mp3 </a><a href="/tag/multitouch" style="font-size: 13px">multitouch </a><a href="/tag/new" style="font-size: 19px">new </a><a href="/tag/ocr" style="font-size: 11px">ocr </a><a href="/tag/offline" style="font-size: 17px">offline </a><a href="/tag/old" style="font-size: 17px">old </a><a href="/tag/onlypaths" style="font-size: 17px">onlypaths </a><a href="/tag/pi" style="font-size: 19px">pi </a><a href="/tag/player" style="font-size: 11px">player </a><a href="/tag/processing" style="font-size: 11px">processing </a><a href="/tag/progress" style="font-size: 13px">progress </a><a href="/tag/prototype" style="font-size: 13px">prototype </a><a href="/tag/python" style="font-size: 20px">python </a><a href="/tag/raphael" style="font-size: 19px">raphael </a><a href="/tag/release" style="font-size: 13px">release </a><a href="/tag/rewrite" style="font-size: 13px">rewrite </a><a href="/tag/security" style="font-size: 13px">security </a><a href="/tag/shiny" style="font-size: 20px">shiny </a><a href="/tag/ShinyTouch" style="font-size: 13px">ShinyTouch </a><a href="/tag/site" style="font-size: 13px">site </a><a href="/tag/small" style="font-size: 19px">small </a><a href="/tag/speed" style="font-size: 11px">speed </a><a href="/tag/stuff" style="font-size: 11px">stuff </a><a href="/tag/SVG" style="font-size: 15px">SVG </a><a href="/tag/touch" style="font-size: 13px">touch </a><a href="/tag/update" style="font-size: 20px">update </a><a href="/tag/upload" style="font-size: 17px">upload </a><a href="/tag/vector" style="font-size: 13px">vector </a><a href="/tag/vectoreditor" style="font-size: 19px">vectoreditor </a><a href="/tag/version" style="font-size: 13px">version </a><a href="/tag/video" style="font-size: 15px">video </a><a href="/tag/vp8" style="font-size: 11px">vp8 </a><a href="/tag/vX JS" style="font-size: 19px">vX JS </a><a href="/tag/wave" style="font-size: 20px">wave </a><a href="/tag/wikify" style="font-size: 20px">wikify </a><a href="/tag/wikipedia" style="font-size: 17px">wikipedia </a><a href="/tag/wordpress" style="font-size: 20px">wordpress </a>
          </div>
        </div>
        <div id="content">
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/vx-js-library/">vX JS Library</a> <span class="subtitle">13 July 2009</span></h2>
            </header>
            <section class="content"><p>vX is the world’s smallest Javascript library. It’s modular, powerful, unlikely to interfere with operations of other libraries, open source (<span class="caps">MIT</span> license), and cross-browser. It’s designed with size first and foremost and everything else secondary. The cross-browser GET/POST AJAX function with callbacks is only 200 bytes. The closest thing is over twice the size. This extreme density is present in every function of the&nbsp;library.</p>
<p>Currently, the whole framework, including Ajax, Events, <span class="caps">URL</span> Encoding, Animation (including Fading), Namespacing, JSON Serialization, JSON Parsing, Document onReady, HTML entities encode/decode, Array Index, Get Elements By Class Name, Object Extending, Templating, Queueing, Class Manipulation and more. is under <strong><span class="caps">3KB</span></strong> total <strong>uncompressed</strong>.</p>
<p>All functions are aliased to full reader-friendly names as well as very consise abbreviations. For example, Ajax can be accessed by<tt><em>.ajax</tt> or <tt></em>.X</tt>.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/shinytouch-progress-update-fresnel-s-equations/">ShinyTouch Progress Update + Fresnel's Equations</a> <span class="subtitle">12 July 2009</span></h2>
            </header>
            <section class="content"><p>So I was looking through wikipedia to find out  if there were some magical equations to govern how it should mix the color of the background screen contents and the reflection and make the application work better. I think Fresnel’s equations fit that description. It basically gives the reflectiveness of the substance from information about the substance, the surrounding substance (air) and the angle of&nbsp;incidence.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/Fresnel2.png" alt="Well  this image really is quite intimidating. I wont even pretend to understand it  but it looks like Fresnels equations with different values of n1 and n2 (some ratio for different temperatures). And is the plot on the right the same Total Internal Reflection in FTIR?" ><div class="caption">A really intimidating image from none other than Wikipedia</div></div></p>
<p>It’s quite interesting, partly because the shinyness (and thus the ratios used to combine the background color with the finger to compare) depends on the angle of the webcam to the finger, which depends on the distance (yay for trigonometry?). So the value used isn’t the 50-50 ration that it currently uses in the algorithm universally, but it’s dependent on variables to Fresnel’s Equations and the distance of the&nbsp;finger.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/camhandangle-251x300.png" alt="I forgot what this was supposed to describe" ><div class="caption">I forgot what this was supposed to describe</div></div></p>
<p>Anyway, time for a graphic that doesn’t really explain anything because I lost my train of thought while trying to understand how to use&nbsp;Inkscape!</p>
<p>So here’s something more descriptive. The two hands (at least it’s not 3, and why they’re just lines with no fingers isn’t my fault) and they’re positioned at different locations, one (hand 1) is close to the camera while the second (hand 2) is quite far away. Because of magic and trigonometry, the angle of the hand is greater when it’s further away. Also, this plugs into Fresnel’s Equations which mean the surface is shinier for where hand 2 is touching while it’s less shiny for hand 1. So the algorithm has to adjust for the variation (and if this works, then it might not need the complex region specific range&nbsp;values).</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/yayfortrig.png" alt="Notice how Angle 2 for hand 2 is much larger than angle 1 because of how it" ><div class="caption">Yay For Trig!</div></div></p>
<p>So here it’s pretty ideal to have the angle be pretty extreme right? Those graphs sure seem imply that extreme angles are a good thing. But no, because quite interestingly, the more extreme the angle is, then the less accurate the measures from the <em>x</em> axis become. So in the image below, you can see that <em>cam b</em> is farther from the monitor (and thus has a greater angle from the monitor) and it can discern far more accurately depth than than <em>cam a</em>. The field of view for <em>cam a</em> is squished down to that very thin angle whereas the <em>cam b</em> viewing area is far larger. Imagine if there was a <em>cam c</em> which was mounted directly in front of the monitor, it would suffer from no compression of the <em>x</em> axis like <em>a _or _b</em> but instead it has full possible&nbsp;depth.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/precision.png" alt="the more extreme the angle is  then the lower the resolution of the usable x axis becomes. So while you get better accuracy (shinier = easier to detect) the accuracy point you can reduce it to declines proportionally." ><div class="caption">Extreme angles have lower precision</div></div></p>
<p>So for the math portion, interestingly, the plot for the decline in % of the total possible width is equivalent to the 1-sin() (I think, but if I’m wrong then it could be cos() and i suck at math&nbsp;anyway).</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/oohmoretrig.png" alt="So since it" ><div class="caption">More Trig!</div></div></p>
<p>So if you graph out 1-sin(n) then you get a curve where it starts at 100% when the angle the camera is positioned at is 0 degrees from an imaginary line perpendicular to the center of the surface, and it approaches 0% as the degree measure reaches 90&nbsp;deg.</p>
<p>So interestingly when you plot it, basically what happens is a trade-off between the angle the camera is at and the precision (% of ideal maximum horizontal resolution) and accuracy (shinyness of reflection). I had the same theory a few days ago, even before I discovered Fresnel’s Equations, though mine was more linear. I thought that it was just a point in which the values dropped for the shinyness. I thought that the reason the monitor was shinier from the side is that it was beyond the intended viewing angle, so since there is less light at the direction, the innate shinyness is more&nbsp;potent.</p>
<p>So what does this mean for the project? Well, it confirms my initial thoughts that this is far too complicated for me to do alone, and makes me quite sad (partly because of the post titled Fail that was published in january). It’s really far too complicated for me. Right now the algorithm I use is very approximate (and noticably so). The formula improperly adjusts for perception and so if you try to draw a straight line across the monitor, you end up with a curved section of a&nbsp;sinusoidal-wave.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Progress%20Update%20+%20Fresnel%27s%20Equations/purty2009-07-10T191119.247602.png" alt="Trying to draw a straight line across the screen ends up looking curved because it uses a linear approximate distortion adjustment algorithm. Note that the spaces between the bars is because of the limited horizontal resolution  partly due to the angle  mostly due to hacks for how slow python is." ><div class="caption">Issues with algorithm</div></div></p>
<p>So it’s far more complicated than I could have imagined at first, and I imagined it as far too complicated for me to venture in this alone. But I’m trying even with this sub-ideal situation. So the rest of the algorithm for now will also remain with more linear approximations. I’m going to experiment in making more linear approximations of the plot of Fresnel’s equations. And hopefully it’ll work this&nbsp;time.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/07/shinytouch-zero-setup-single-touch-surface-retrofitting-technology/">ShinyTouch Zero Setup Single Touch Surface Retrofitting Technology</a> <span class="subtitle">11 July 2009</span></h2>
            </header>
            <section class="content"><p>So Mirrortouch is really nice, it’s quite accurate, very fast, quite cheap and it’s my idea&nbsp;:)</p>
<p>But while trying to hook up the script to my webcam and looking at the live webcam feeds from it pointing at my monitor (aside from the awesome infinite-mirror effect!) I discovered an effect that’s quite painfully obvious but dismissed earlier:&nbsp;reflection.</p>
<p>So a few months ago, I just sat in the dark with a few flashlights and a 6in square block of acrylic. I explored the multitouch technologies with them. Shining the flashlight through the side, I can replicate the <span class="caps">FTIR</span> (Frustrated Total Internal Reflection) effect used in almost all multitouch systems. Looking from under, with a sheet of paper over and shining the flashlight up, I can experiment with Rear DI (Diffused Illumination). Shining it from the side but above the surface, I can see the principle of LLP Laser Light Plane, actually here, it’s more accurately like LED-LP). MirrorTouch is from looking at it with one end tilted torward a&nbsp;mirror.</p>
<p>If you look at a mirror, and look at it not directly on, but at an angle, however slight, you can notice that the reflection (or shadow, or virtual image whatever you want to call it) only appears comes in “contact” with the real image (the finger) when the finger is in physical contact with the reflective medium. From the diagram below, you can see the essence of the effect. When there is a touch, the reflection is to the immediate right (in this camera positioning) of the finger. If the reflection is not to the immediate right, then it is not a&nbsp;touch.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/ShinyTouchSketch.png" alt="From the perspective of the camera" ><div class="caption">ShinyTouch Diagram</div></div></p>
<p>It’s a very very simple concept, but I disregarded it because real monitors aren’t that shiny. But when I hooked the webcam up to the monitor, it turns out it is. I have a matte display, and it’s actually really shiny from a moderately extreme&nbsp;angle.</p>
<p>So I hacked the MirrorTouch code quite a bit and I have something new: ShinyTouch (for the lack of a better name). ShinyTouch takes the dream of MirrorTouch one step further by reducing setup time to practically nothing. Other than the basic unmodified webcam, it takes absolutely nothing. No mirrors, no powered light sources, no lasers, speakers, batteries, bluetooth, wiimotes, microphones, acrylic, switches, silicon, colored tape, vellum, paper, tape, glue, soldering, LEDs, light bulbs, bandpass filters, none of that. Just mount your camera at whatever looks nice and run the&nbsp;software.</p>
<p>And for those who don’t really pay attention, this is more than finger tracking. A simple method of detecting the position of your fingers with no knowledge of the depth is not at all easy to use. The Wiimote method and the colored-tape methods are basically&nbsp;this.</p>
<p>The sheer simplicity of the hardware component is what really makes the design attractive. However, there is a cost. It’s not multitouch capable (actually it is, but the occlusion that it suffers from will deny the ability for any commonly used multitouch gestures). It’s slower than MirrorTouch. It doesn’t work very well in super bright environments and it needs&nbsp;calibration.</p>
<p>Calibration is at current stages of development, excruciatingly complicated. However, it can be simplified to be quite simple in comparison. The current one involves painful color value extraction manually from an image editor of your choice. Then it needs to run and you need to fix the color diff ranges. Before that you need to do a 4-click monitor calibration (which could theoretically be eliminated). But it could be reduced by making the camera detect a certain color pattern from the monitor to find out the corners and totally remove the 4 point clicking calibration. After that, the screen could ask you to click a certain box on the screen which would be captured pre-touch and post-touch and diff’d to get a finger <span class="caps">RGB</span> range. From that point, the user would be asked to follow a point as it moves around the the monitor to gather a color reflection diff&nbsp;range.</p>
<p>The current algorithm is quite awesome. It searches the grid pixel-by-pixel scanning horizontally from the right to the left (not left to right). Once it finds a row of 3 pixel matches for the finger color, it stops parsing and records the point and passes it over to the reflection analysis program. There are/were 3 ways to search for the reflection. The first one I made is a simple diff between the reflection and the surrounding. It finds the difference between the color of the point immediately to the right and the point to the top-right of the finger. The idea is that if there is no reflection, then the colors should basically roughly match and if it’s not then you can roughly determine that it is a&nbsp;touch.</p>
<p>This was later superseded by something that calculates the average of the color of the pixel on the top-right of the finger and the color of the finger. The average should theoretically equate the color of the reflection, so it diffs the averaged color with the color to the immediate right (the hypothetical reflection) and compares&nbsp;them.</p>
<p>There was another algorithm that is really simple for when it’s very very bright (near a window or something) and the reflection is totally overshadowed (pardon the pun, it wasn’t really intended) by the finger’s shadow. So instead of looking for a reflection, it looks for a shadow, which the agorithm thinks of as just a dark patch (color below a certain threshold). That one is obvoiusly the simples, and not really reliable&nbsp;either.</p>
<p>One big issue is that currently, the ranges are global, but in practice, the ranges need to vary for individual sections of the screen. So the next feature that should be implemented is dividing the context into several sections of the screen each with their own color ranges. It’s a bit more complex than the current system but totally&nbsp;feasable.</p>
<p>So the current program has the ability to function as a crude paint program and some sample images are on the bottom portion of this&nbsp;post.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-02T184647.550169-300x225.png" alt="Hai!!!!" ><div class="caption">purty2009-07-02T18:46:47.550169</div></div></p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-10T192153.657122-300x225.png" alt="Yayness!" ><div class="caption">purty2009-07-10T19:21:53.657122</div></div></p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-10T191406.879415-300x225.png" alt=":)" ><div class="caption">purty2009-07-10T19:14:06.879415</div></div></p>
<p><div class="pic md" style="" ><img src="/articles/2009/ShinyTouch%20Zero%20Setup%20Single%20Touch%20Surface%20Retrofitting%20Technology/purty2009-07-02T184809.650197-300x225.png" alt="No." ><div class="caption">purty2009-07-02T18:48:09.650197</div></div></p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/06/new-mirrortouch-algorithm/">New MirrorTouch Algorithm</a> <span class="subtitle">27 June 2009</span></h2>
            </header>
            <section class="content"><p><div class="pic md" style="" ><img src="/articles/2009/New%20MirrorTouch%20Algorithm/multitouchmain.png" alt="MirrorTouch Diagram" ><div class="caption">MirrorTouch Diagram</div></div></p>
<p>MirrorTouch (the new name for my mirror-based multitouch system). For those who don’t remember, it is a project to create a retrofittable cheap new technology for touch detection. It can be made of mostly off-the-counter or even household items. The software has the potential to be <span class="caps">VERY</span> fast, many orders of magnitude faster than the current technology. It is less seceptable to occlusion than many other&nbsp;technologies.</p>
<p>It began well over 2 months ago. It started out with <span class="caps">IDEALISTIC</span> paint sketches and then a VB.NET application to parse it. Then it was ported to Python and could handle the same sketches. After discovering that in real life the positioning of the points varies due to some very strange and illogical factor, the project had a several-month&nbsp;hiatus.</p>
<p>The issue is clearly demonstrated&nbsp;here:</p>
<p><div class="pic md" style="" ><img src="/articles/2009/New%20MirrorTouch%20Algorithm/2009-04-09-093635-oops.jpg" alt="noooo!! why doesnt it work?!?!?!?!?!" ><div class="caption">Oh Noes!</div></div></p>
<p>Last week, I considered the project a failure. I was playing around with a flashlight and tried looking into the strange behavior of the light. And something began to dawn on me. The shape as on diagram 1, can be flattened out as a visualization for what it behaves like. So from the pyramid shape, it looks more like a little 4-pointed star. Since the mirror is only on two sides, you can simplify it to half a star emerging from a&nbsp;square.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/New%20MirrorTouch%20Algorithm/multitouchflat.png" alt="The diagram" ><div class="caption">Flattened Diagram</div></div></p>
<p>To the side is a geometicalified sketch of it from my notebook. Here you can see the relation between the point and where it shows up on the&nbsp;mirror.</p>
<p>From that, you can use the distance between <em>m</em> and the y point (<em>y-m</em>) and divide it all over the distance from the mirror to the webcam (<em>l</em>) and plug it into <em>y=mx+c</em> form. Repeat that over the x axis and you can use basic algebra to find the&nbsp;interesction.</p>
<p>From that is the new magical formula that powers the&nbsp;application:</p>
<p><div class="pic md" style="" ><img src="/articles/2009/New%20MirrorTouch%20Algorithm/MultitouchFormulae.png" alt="Yay! Purtyful!" ><div class="caption">Yay! Purtyful!</div></div></p>
<p>The new formula is so magical that it actually works. Yes, it’s amazing, it has survived the most strictest of tests of mathematical consistency. It <em>works.</em>…. At least in theory. Now what about <em>scientific</em> tests? Oh no! it actually has to work in the <em>physical</em> <span style="text-decoration: underline;">world</span>? Oh&nbsp;no!</p>
<p>With these 2 magical equations. I have (theoretically) in an idealistic model of the system, solved the issue with distortion. It should theoretically resolve all issues with the system. It should&nbsp;work.</p>
<p>So i set up the model again, attaching my webcam to a ruler and taping it to a speaker. Taping mirrors down on a piece of paper, and this time, Scribbling down measurements on the side. I got it to work. Workign without resetting configuration every time it ran. It works. It truly actually works. Multi-Touch&nbsp;too.</p>
<p>Since I cant get the webcam to feed directly to the python script, I have to use Cheese (it’s a linux app for taking pics from a webcam) to save screenies of the webcam mounted percariously from a ruler using only a bit of transparent Scotch tape. I copy the images over to the mirrortouch directory and go in the commandline and type in <em>python process.py</em> and watch as lines of logging output fly past as the windows autoscrolls down filled with coordinates and color&nbsp;hashes.</p>
<p>I watch as it generates a .png&nbsp;file.</p>
<p><div class="pic md" style="" ><img src="/articles/2009/New%20MirrorTouch%20Algorithm/ScanOut-4.png" alt="It works in the _real_ world!" ></div></p>
<p>Yes it works!&nbsp;<span class="caps">AMAZING</span>!</p>
<p>Note: The random scribbles in the back aren’t for any contstructive purpose. No, actually they just stop my stupid webcam from adjusting the contrast and making everything all ugly and ewwie. If my webcam sucked less than maybe it would work but my webcam really does really really really&nbsp;suck.</p>
<p>Now if it could get ported over to somethign like C++, and actually parse a live video feed from the webcam then it may become an actual working implementable multitouch technology. As it stands, it’s just a multitouch proof of concept, and I don’t know C++ so it probably won’t&nbsp;work.</p>
<p>Anyone dying for the source code can find it in the <span class="caps">SVN</span> repository at : <a href="http://code.google.com/p/mirrortouch/">http://code.google.com/p/mirrortouch/</a> Just beware that it may take <span style="text-decoration: underline;">lots</span> of scary and tedious configuring in current stages (Configuring color range of background in the band, configuring color range of target, setting distances and middle length and other horrors, but from the <span class="caps">SVN</span> you can also do the insanely boring act of running various images that are already there through the script, and most of the images just wont work even with replacing huge blocks of&nbsp;code).</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2009/06/ajax-ranking-in-rash-qms/">Ajax Ranking in Rash QMS</a> <span class="subtitle">20 June 2009</span></h2>
            </header>
            <section class="content"><p>So i had this little project involving a quote repository and due to some trouble installing the superior Chirpy system, I used <span class="caps">RQMS</span> and did a few changes to add features like ajax ranking so you don’t have to reload to rank&nbsp;something.</p>
<p>It only involved changing less than 10 lines and pasting a snippet of my vX Ajax&nbsp;library.</p>
<p>Replace lines 151, 152 and 153 with the following lines (respectively) in rash_output.php (the&nbsp;template).</p>
<pre><code><span style='display:none' detected-language='handlebars'></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"?ratingplus<span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$GET_SEPARATOR_HTML</span><span class="hljs-preprocessor">?&gt;</span></span>id=<span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>]<span class="hljs-preprocessor">?&gt;</span></span>"</span> <span class="hljs-attribute">onclick</span>=<span class="hljs-value">"plus(<span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>]<span class="hljs-preprocessor">?&gt;</span></span>);return false"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"quote_ratingplus"</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
(<span class="hljs-tag">&lt;<span class="hljs-title">span</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"rating<span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>]<span class="hljs-preprocessor">?&gt;</span></span>"</span>&gt;</span><span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$row</span>[<span class="hljs-string">'rating'</span>]<span class="hljs-preprocessor">?&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">span</span>&gt;</span>)
<span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"?ratingminus<span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$GET_SEPARATOR_HTML</span><span class="hljs-preprocessor">?&gt;</span></span>id=<span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>]<span class="hljs-preprocessor">?&gt;</span></span>"</span> <span class="hljs-attribute">onclick</span>=<span class="hljs-value">"minus(<span class="php"><span class="hljs-preprocessor">&lt;?</span>=<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>]<span class="hljs-preprocessor">?&gt;</span></span>);return false"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"quote_ratingminus"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span></span>
</code></pre><p>Then add the following somewhere arbitrary in the <head> of&nbsp;rash_template.php</p>
<pre><code><span style='display:none' detected-language='handlebars'></span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">var</span> _=_?_:{}
_.ajax=_.X=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(u,f,d,x)</span></span>{x=<span class="hljs-built_in">window</span>.ActiveXObject;x=<span class="hljs-keyword">new</span>(x?x:XMLHttpRequest)(<span class="hljs-string">'Microsoft.<span class="caps">XMLHTTP</span>'</span>);x.open(d?<span class="hljs-string">'<span class="caps">POST</span>'</span>:<span class="hljs-string">'<span class="caps">GET</span>'</span>,u,<span class="hljs-number">1</span>);x.setRequestHeader(<span class="hljs-string">'Content-type'</span>,<span class="hljs-string">'application/x-www-form-urlencoded'</span>);x.onreadystatechange=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{x.readyState&gt;<span class="hljs-number">3</span>&amp;amp;&amp;amp;f?f(x.responseText,x):<span class="hljs-number">0</span>};x.send(d)}
_.id=_.G=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{<span class="hljs-keyword">return</span> e.style?e:_.d.getElementById(e)}
_.d=<span class="hljs-built_in">document</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">plus</span><span class="hljs-params">(<span class="caps">ID</span>)</span></span>{
    _.ajax(<span class="hljs-string">"?ratingplus&amp;amp;id="</span>+<span class="caps">ID</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        _.G(<span class="hljs-string">"rating"</span>+<span class="caps">ID</span>).innerHTML = <span class="hljs-built_in">parseInt</span>(_.G(<span class="hljs-string">"rating"</span>+<span class="caps">ID</span>).innerHTML)+<span class="hljs-number">1</span>
    })
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">minus</span><span class="hljs-params">(<span class="caps">ID</span>)</span></span>{
    _.ajax(<span class="hljs-string">"?ratingminus&amp;amp;id="</span>+<span class="caps">ID</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        _.G(<span class="hljs-string">"rating"</span>+<span class="caps">ID</span>).innerHTML = <span class="hljs-built_in">parseInt</span>(_.G(<span class="hljs-string">"rating"</span>+<span class="caps">ID</span>).innerHTML)-<span class="hljs-number">1</span>
    })
}
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span>
</code></pre><p>I’ve packaged a sample rash template with the ajax functionality. You can get it here: <a href="http://drop.io/ajaxrash">http://drop.io/ajaxrash</a></p>
<p>And the purpose of this is of course for one of my new projects, BotBash a conversation repository between a little (really simple) bot i built and strangers on Omegle. You can see it in action on <a href="http://botbash.antimatter15.com">http://botbash.antimatter15.com</a></p>

            </section>
          </article>
          <hr>
          <div class="nav"><a href="/page/36/" class="newer">« Newer</a><a href="/page/38/" class="next">Next page »</a>
          </div>
        </div>
      </div>
    </div>
    <script>
      function squish(){
        document.getElementById("squishfoot").className += "squish"
      }
    </script>
    <style>
      .squish { font-size: 9px }
      .squishsquish { font-size: 8px }
      .squishsquishsquish { font-size: 7px }
      .squishsquishsquishsquish { font-size: 6px }
      .squishsquishsquishsquishsquish { font-size: 5px }
      .squishsquishsquishsquishsquishsquish { font-size: 4px }
      .squishsquishsquishsquishsquishsquishsquish { visibility: hidden }
    </style>
    <div class="graybar bottom">
      <footer>
        <div id="squishfoot">I'm a tiny footer, please don't <a href="javascript:squish()">squish</a> me</div>
      </footer>
    </div>
  </body>
</html>