<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <link rel="alternate" href="http://localhost:8080/feed.xml" type="application/rss+xml" title="somewhere to talk about ideas and projects and stuff like everyone else">
    <link rel="stylesheet" href="/style/main.css">
  </head>
  <body>
    <div class="whitebox">
      <div class="graybar top">
        <header class="top">
          <div class="slogan">somewhere to talk about random ideas and projects like everyone else</div><a href="/">
            <h1 class="logo">
              stuff
               <span class="byline">by antimatter15</span>
            </h1></a>
        </header>
      </div>
      <div id="main">
        <div class="sidebar">
          <div class="about">
            <p class="emph">
              Hi. I’m <b>Kevin Kwok</b>, and I’m currently a sophomore at <b>MIT</b>, 
              and this is my obligatory online presence or whatever.  
            </p>
            <p>
              I regularly updated this site from 2007, when I started it in elementary school, 
              to summer 2014, when it was unwittingly absorbed into an international phishing ring.
            </p>
            <p>
              But like a phoenix, hydra or the national deficit, the site is back 
              again bigger than ever (after a rather long gestation period).
            </p>
            <p>
              For more obnoxious autobiographical content 
              blended with bits of nostalgia for the old PHP-on-sketchy-free-webhosting days, click here.
            </p>
          </div><br>
          <section class="archive"><a href="/archive">
              <h2>Archive</h2></a>
            <ul>
              <li>
                <ul>
                  <li><a href="/2015/04"><span class="month">April</span> <span class="year">2015</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2014/05"><span class="month">May</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/04"><span class="month">April</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/03"><span class="month">March</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/02"><span class="month">February</span> <span class="year">2014</span></a></li>
                  <li><a href="/2014/01"><span class="month">January</span> <span class="year">2014</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2013/12"><span class="month">December</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/11"><span class="month">November</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/10"><span class="month">October</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/09"><span class="month">September</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/08"><span class="month">August</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/07"><span class="month">July</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/06"><span class="month">June</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/05"><span class="month">May</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/04"><span class="month">April</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/03"><span class="month">March</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/02"><span class="month">February</span> <span class="year">2013</span></a></li>
                  <li><a href="/2013/01"><span class="month">January</span> <span class="year">2013</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2012/12"><span class="month">December</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/11"><span class="month">November</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/10"><span class="month">October</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/09"><span class="month">September</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/08"><span class="month">August</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/07"><span class="month">July</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/06"><span class="month">June</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/05"><span class="month">May</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/04"><span class="month">April</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/03"><span class="month">March</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/02"><span class="month">February</span> <span class="year">2012</span></a></li>
                  <li><a href="/2012/01"><span class="month">January</span> <span class="year">2012</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2011/12"><span class="month">December</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/11"><span class="month">November</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/10"><span class="month">October</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/09"><span class="month">September</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/08"><span class="month">August</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/07"><span class="month">July</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/06"><span class="month">June</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/05"><span class="month">May</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/04"><span class="month">April</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/03"><span class="month">March</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/02"><span class="month">February</span> <span class="year">2011</span></a></li>
                  <li><a href="/2011/01"><span class="month">January</span> <span class="year">2011</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2010/12"><span class="month">December</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/11"><span class="month">November</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/10"><span class="month">October</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/09"><span class="month">September</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/08"><span class="month">August</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/07"><span class="month">July</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/06"><span class="month">June</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/05"><span class="month">May</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/04"><span class="month">April</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/03"><span class="month">March</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/02"><span class="month">February</span> <span class="year">2010</span></a></li>
                  <li><a href="/2010/01"><span class="month">January</span> <span class="year">2010</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2009/12"><span class="month">December</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/11"><span class="month">November</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/10"><span class="month">October</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/09"><span class="month">September</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/08"><span class="month">August</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/07"><span class="month">July</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/06"><span class="month">June</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/05"><span class="month">May</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/04"><span class="month">April</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/03"><span class="month">March</span> <span class="year">2009</span></a></li>
                  <li><a href="/2009/01"><span class="month">January</span> <span class="year">2009</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2008/12"><span class="month">December</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/11"><span class="month">November</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/10"><span class="month">October</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/09"><span class="month">September</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/08"><span class="month">August</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/07"><span class="month">July</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/06"><span class="month">June</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/05"><span class="month">May</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/04"><span class="month">April</span> <span class="year">2008</span></a></li>
                  <li><a href="/2008/01"><span class="month">January</span> <span class="year">2008</span></a></li>
                </ul><br>
              </li>
              <li>
                <ul>
                  <li><a href="/2007/12"><span class="month">December</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/11"><span class="month">November</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/10"><span class="month">October</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/09"><span class="month">September</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/08"><span class="month">August</span> <span class="year">2007</span></a></li>
                  <li><a href="/2007/05"><span class="month">May</span> <span class="year">2007</span></a></li>
                </ul><br>
              </li>
            </ul>
          </section>
          <div class="tags">
            <h2>Tags</h2><a href="/tag/3D" style="font-size: 15px">3D </a><a href="/tag/ajax" style="font-size: 19.998766054240136px">ajax </a><a href="/tag/ajax animator" style="font-size: 19.99983298578152px">ajax animator </a><a href="/tag/api" style="font-size: 15px">api </a><a href="/tag/apple" style="font-size: 19.93307149075715px">apple </a><a href="/tag/art" style="font-size: 12.689414213699951px">art </a><a href="/tag/awesome" style="font-size: 15px">awesome </a><a href="/tag/blog" style="font-size: 17.31058578630005px">blog </a><a href="/tag/browser" style="font-size: 19.93307149075715px">browser </a><a href="/tag/bugfix" style="font-size: 17.31058578630005px">bugfix </a><a href="/tag/canvas" style="font-size: 15px">canvas </a><a href="/tag/change" style="font-size: 17.31058578630005px">change </a><a href="/tag/chrome" style="font-size: 19.999999998973813px">chrome </a><a href="/tag/chrome extension" style="font-size: 12.689414213699951px">chrome extension </a><a href="/tag/chrome os" style="font-size: 12.689414213699951px">chrome os </a><a href="/tag/chromebook" style="font-size: 12.689414213699951px">chromebook </a><a href="/tag/code" style="font-size: 15px">code </a><a href="/tag/color" style="font-size: 12.689414213699951px">color </a><a href="/tag/colors" style="font-size: 12.689414213699951px">colors </a><a href="/tag/css" style="font-size: 12.689414213699951px">css </a><a href="/tag/demo" style="font-size: 12.689414213699951px">demo </a><a href="/tag/design" style="font-size: 18.807970779778824px">design </a><a href="/tag/elitist" style="font-size: 19.820137900379084px">elitist </a><a href="/tag/evil" style="font-size: 19.52574126822433px">evil </a><a href="/tag/experiment" style="font-size: 15px">experiment </a><a href="/tag/export" style="font-size: 12.689414213699951px">export </a><a href="/tag/extension" style="font-size: 19.820137900379084px">extension </a><a href="/tag/ExtJS" style="font-size: 19.820137900379084px">ExtJS </a><a href="/tag/facebook" style="font-size: 12.689414213699951px">facebook </a><a href="/tag/fast" style="font-size: 19.820137900379084px">fast </a><a href="/tag/features" style="font-size: 17.31058578630005px">features </a><a href="/tag/firefox" style="font-size: 19.975273768433652px">firefox </a><a href="/tag/flash" style="font-size: 18.807970779778824px">flash </a><a href="/tag/free" style="font-size: 12.689414213699951px">free </a><a href="/tag/function" style="font-size: 15px">function </a><a href="/tag/future" style="font-size: 17.31058578630005px">future </a><a href="/tag/GAE" style="font-size: 15px">GAE </a><a href="/tag/github" style="font-size: 17.31058578630005px">github </a><a href="/tag/google" style="font-size: 19.999999999999872px">google </a><a href="/tag/google code" style="font-size: 12.689414213699951px">google code </a><a href="/tag/google wave" style="font-size: 19.998766054240136px">google wave </a><a href="/tag/graphics" style="font-size: 15px">graphics </a><a href="/tag/hacking" style="font-size: 12.689414213699951px">hacking </a><a href="/tag/hosting" style="font-size: 19.52574126822433px">hosting </a><a href="/tag/html5" style="font-size: 19.52574126822433px">html5 </a><a href="/tag/idea" style="font-size: 15px">idea </a><a href="/tag/images" style="font-size: 12.689414213699951px">images </a><a href="/tag/internet exploder" style="font-size: 19.820137900379084px">internet exploder </a><a href="/tag/ipad" style="font-size: 18.807970779778824px">ipad </a><a href="/tag/javascript" style="font-size: 19.99999999721053px">javascript </a><a href="/tag/json" style="font-size: 17.31058578630005px">json </a><a href="/tag/library" style="font-size: 12.689414213699951px">library </a><a href="/tag/light" style="font-size: 12.689414213699951px">light </a><a href="/tag/lines" style="font-size: 15px">lines </a><a href="/tag/linux" style="font-size: 18.807970779778824px">linux </a><a href="/tag/login" style="font-size: 17.31058578630005px">login </a><a href="/tag/mac" style="font-size: 12.689414213699951px">mac </a><a href="/tag/magical" style="font-size: 17.31058578630005px">magical </a><a href="/tag/math" style="font-size: 12.689414213699951px">math </a><a href="/tag/meta" style="font-size: 12.689414213699951px">meta </a><a href="/tag/microsoft" style="font-size: 15px">microsoft </a><a href="/tag/microwave" style="font-size: 17.31058578630005px">microwave </a><a href="/tag/mirror" style="font-size: 12.689414213699951px">mirror </a><a href="/tag/multitouch" style="font-size: 15px">multitouch </a><a href="/tag/new" style="font-size: 19.52574126822433px">new </a><a href="/tag/nostalgia" style="font-size: 12.689414213699951px">nostalgia </a><a href="/tag/ocr" style="font-size: 12.689414213699951px">ocr </a><a href="/tag/offline" style="font-size: 18.807970779778824px">offline </a><a href="/tag/old" style="font-size: 18.807970779778824px">old </a><a href="/tag/onlypaths" style="font-size: 18.807970779778824px">onlypaths </a><a href="/tag/pi" style="font-size: 19.52574126822433px">pi </a><a href="/tag/processing" style="font-size: 12.689414213699951px">processing </a><a href="/tag/prototype" style="font-size: 15px">prototype </a><a href="/tag/python" style="font-size: 19.93307149075715px">python </a><a href="/tag/raphael" style="font-size: 19.52574126822433px">raphael </a><a href="/tag/release" style="font-size: 15px">release </a><a href="/tag/rewrite" style="font-size: 15px">rewrite </a><a href="/tag/security" style="font-size: 15px">security </a><a href="/tag/shiny" style="font-size: 19.975273768433652px">shiny </a><a href="/tag/ShinyTouch" style="font-size: 15px">ShinyTouch </a><a href="/tag/site" style="font-size: 15px">site </a><a href="/tag/small" style="font-size: 19.52574126822433px">small </a><a href="/tag/spam" style="font-size: 12.689414213699951px">spam </a><a href="/tag/speed" style="font-size: 12.689414213699951px">speed </a><a href="/tag/SVG" style="font-size: 17.31058578630005px">SVG </a><a href="/tag/touch" style="font-size: 15px">touch </a><a href="/tag/update" style="font-size: 19.999999943972036px">update </a><a href="/tag/upload" style="font-size: 18.807970779778824px">upload </a><a href="/tag/user interface" style="font-size: 12.689414213699951px">user interface </a><a href="/tag/vector" style="font-size: 15px">vector </a><a href="/tag/vectoreditor" style="font-size: 19.52574126822433px">vectoreditor </a><a href="/tag/version" style="font-size: 15px">version </a><a href="/tag/video" style="font-size: 17.31058578630005px">video </a><a href="/tag/vp8" style="font-size: 12.689414213699951px">vp8 </a><a href="/tag/vX JS" style="font-size: 19.52574126822433px">vX JS </a><a href="/tag/wave" style="font-size: 19.99999694097773px">wave </a><a href="/tag/webcam" style="font-size: 12.689414213699951px">webcam </a><a href="/tag/wikify" style="font-size: 19.820137900379084px">wikify </a><a href="/tag/wikipedia" style="font-size: 18.807970779778824px">wikipedia </a><a href="/tag/wordpress" style="font-size: 19.820137900379084px">wordpress </a>
          </div>
        </div>
        <div id="content">
          <article class="article intro">
            <header>
              <h2><a href="/2011/02/html5-offline-wikipedia-reader-and-help-me-win-a-cr-48/">HTML5 Offline Wikipedia Reader and Help me win a Cr-48</a> <span class="subtitle">04 February 2011</span></h2>
            </header>
            <section class="content"><p><a href="http://www.lucidchart.com/community/examples/view/4d40ad1f-f1b0-44a7-b39b-1db00ac17bf0"><img src="/articles/2011/HTML5%20Offline%20Wikipedia%20Reader%20and%20Help%20me%20win%20a%20Cr-48/690-11.png" alt="" title="690 (1)"></a></p>
<p>So, lets begin with a plead for you to <a href="http://www.lucidchart.com/community/examples/view/4d40ad1f-f1b0-44a7-b39b-1db00ac17bf0">rate my submission (ideally favorably)</a> for the LucidChart chrome notebook contest, partly because it would be awesome, and I need to test the aforementioned <span class="caps">HTML5</span> offline Wikipedia dump&nbsp;reader.</p>
<p>Wikipedia is awesome, and on my service-less iPhone 2G, one of the most useful apps is one with an outdated (by something like three years) Wikipedia dump reader. There’s something very <a href="http://xkcd.com/548/">much like the Hitchhiker’s Guide </a>in carrying the “sum of all human knowledge” in one’s pocket. Wikipedia grows really quickly and the English language dump (as of last month at time of writing) is over six gigs of bzipped&nbsp;<span class="caps">XML</span>.</p>
<p>Another reason for building an offline Wikipedia dump reader is simply that I can. There’s a lot of cool and cutting edge stuff in this. It uses the file input <span class="caps">JS</span> API, FileReader, Blobs, WebWorkers, fast Javascript to handle a pure-JS implementation of the LZMA compression algorithm, and the FileSystem&nbsp;API.</p>
<p><a href="/articles/2011/HTML5%20Offline%20Wikipedia%20Reader%20and%20Help%20me%20win%20a%20Cr-48/Internet-Google-Chrome_002.png"><img src="/articles/2011/HTML5%20Offline%20Wikipedia%20Reader%20and%20Help%20me%20win%20a%20Cr-48/Internet-Google-Chrome_002.png" alt="" title="Internet - Google Chrome_002"></a></p>
<p>All this stuff has only been possible for a very short amount of time. In fact, the FileSystem <span class="caps">API</span> only arrived with the release of Chrome 9 today. It’s pretty awesome to imagine that a web page, HTML and Javascript is processing multiple gigabytes of data at real time. At the current unoptimized state, the search results and the article shows up instantly within 100ms of a key press event (However, I admit it has yet to be tested on the actual English&nbsp;Wikipedia).</p>
<p>This app is almost ideally suited for Chrome <span class="caps">OS</span>. A hundred megabytes worth of data in a month (with the Verizon deal, not to mention that it’s limited to two years) isn’t very much and it would be a pity for the sixteen gigabytes of SSD space on a Cr-48 to be wasted. One of the dumps that I’ve compiled is a subset of the English Wiktionary which makes a great lightweight (8MB) dictionary with over sixty five thousand words. Wiktionary is fairly large at 217MB, and the Simple English Wikipedia is 51MB.
<a href="/articles/2011/HTML5%20Offline%20Wikipedia%20Reader%20and%20Help%20me%20win%20a%20Cr-48/interned-Google-Chrome_004.png"><img src="/articles/2011/HTML5%20Offline%20Wikipedia%20Reader%20and%20Help%20me%20win%20a%20Cr-48/interned-Google-Chrome_004.png" alt="" title="interned - Google Chrome_004"></a>
Assuming you can somehow access the dumps, I probably won’t post them on this server because of the massive bandwidth usage, someone else could, the process for using it is very simple. Download the file to your  computer through <span class="caps">HTTP</span>, a torrent, or create it yourself. You might have noticed that the favicon is a picture of a carrot because that’s the current codename. Well, not really a codename, but I was scrolling through some icon lists and saw one for a carrot on the first page. I don’t even like carrots, but I digress. The dump uploading screen has a picture of a bunny biting a file upload carrot that you click on to select the file. Select the file, and it automagically copies it over to a persistent folder. Then you’re off to searching and reading articles and definitions&nbsp;:)</p>
<p>I’m not done yet, or at least, I don’t feel like packaging it up and submitting it to the chrome webstore yet because I need to figure out a good way to host database&nbsp;dumps.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2011/01/the-ambiguity-of-open-and-vp8-vs-h-264/">The Ambiguity of &quot;Open&quot; and VP8 vs. H.264</a> <span class="subtitle">13 January 2011</span></h2>
            </header>
            <section class="content"><p>Google has recently announced their intention to <a href="http://blog.chromium.org/2011/01/html-video-codec-support-in-chrome.html">remove the H.264</a> video codec from its Chrome browser. This decision has been smeared as an evil campaign for controlling video on the web, akin to <a href="http://en.wikipedia.org/wiki/Not_Invented_Here">not-invented-here</a> syndrome. It’s also been lauded as the push that the web needs to<a href="http://www.osnews.com/story/24245/10_Questions_for_John_Gruber_Regarding_H_264_WebM"> remain open </a>and free.<a href="http://daringfireball.net/2011/01/simple_questions"> Mostly, it’s been marked as inconsistent,</a> due to the bundling of Adobe’s proprietary Flash&nbsp;player.</p>
<p>Richard Stallman <a href="http://www.gnu.org/philosophy/open-source-misses-the-point.html">doesn’t like the term Open Source</a> because it fails to embody the true meaning of “free software”, and the one thing that’s worse is the word “open”. This debate can’t simply be labeled as one for or against openness (even ignoring the technical&nbsp;details).</p>
<p>H.264 is an open standard. It was developed by a committee, standardized, reviewed by many engineers and developers for multiple companies and has been standardized for use with a multitude of containers and devices. However, H.264 is not royalty free. Software patents in many countries restrict the distribution of software that utilizes the codec to those who pay the&nbsp;<span class="caps">MPEG</span>-LA.</p>
<p><span class="caps">VP8</span> is not a standard. It was developed secretly by a single company, and until recently, had only a single working implementation. The public wasn’t open to collaboration on the specification until the bitstream spec was frozen, including the bugs that existed within. Now, the source code and reference implementation are available under liberal licenses, and all the related patents are irrevocably&nbsp;royalty-free.</p>
<p>Adobe Flash, while not synonymous with a video codec (unless you mean .flv flash videos, which are either <span class="caps">VP6</span> or Sorenson Spark), is going here anyway because everyone feels like comparing it. Flash’s SWF format is not standard, but it is open. There are a few implementations (Swfdec, Gnash, GameSWF, Gordon, etc), but none of them are as complete as the official proprietary implementation. There’s a <a href="http://www.adobe.com/content/dam/Adobe/en/devnet/swf/pdf/swf_file_format_spec_v10.pdf">bitstream specification</a> that anyone can read to create an independent implementation of the player. Implementing and using the Flash player is still royalty-free (Since the Flash <span class="caps">VM</span> can decode H.264, obviously that part, not controlled by Adobe still has royalties), anyone can make software that can export SWF animations without paying&nbsp;Adobe.</p>
<h2 id="implementation-vs-distribution">Implementation vs.&nbsp;Distribution</h2>
<h4 id="or-how-bundling-flash-doesn-t-violate-the-novikov-self-consistency-principle-http-en-wikipedia-org-wiki-novikov_self-consistency_principle-">Or: How Bundling Flash doesn’t violate the <a href="http://en.wikipedia.org/wiki/Novikov_self-consistency_principle">Novikov self-consistency&nbsp;principle</a></h4>
<p><table></p>
<p><tbody></p>
<p><tr></p>
<p><th>Name</th></p>
<p><th>Standardization</th></p>
<p><th>Implementation</th></p>
<p><th>Distribution</th></p>
<p><th>Dev History</th>
</tr></p>
<p><tr></p>
<p><td><strong>Theora</strong></td></p>
<p><td style="background-color: #ffff00;">Standardized?</td></p>
<p><td style="background-color: #99cc00;">Open Source</td></p>
<p><td style="background-color: #99cc00;">Royalty Free</td></p>
<p><td style="background-color: #99cc00;">Mostly Open</td>
</tr></p>
<p><tr></p>
<p><td><strong><span class="caps">VP8</span></strong></td></p>
<p><td style="background-color: #ff9999;">Not Standardized</td></p>
<p><td style="background-color: #99cc00;">Open Source</td></p>
<p><td style="background-color: #99cc00;">Royalty Free</td></p>
<p><td style="background-color: #ffff00;">Mixed</td>
</tr></p>
<p><tr></p>
<p><td><strong>H.264</strong></td></p>
<p><td style="background-color: #99cc00;">Standardized</td></p>
<p><td style="background-color: #99cc00;">Open Source</td></p>
<p><td style="background-color: #ff9999;">Royalties</td></p>
<p><td style="background-color: #99cc00;">Open</td>
</tr></p>
<p><tr></p>
<p><td><strong>Flash*</strong></td></p>
<p><td style="background-color: #ff9999;">Not Standardized</td></p>
<p><td style="background-color: #ff9999;">Proprietary</td></p>
<p><td style="background-color: #99cc00;">Royalty Free</td></p>
<p><td style="background-color: #ff9999;">Proprietary</td>
</tr>
</tbody>
</table>
<em>* Adobe Flash isn’t a video&nbsp;codec</em></p>
<p>Each column of the chart can be treated as one part of “open”. The &lt;video&gt; debate now primarily concerns <span class="caps">VP8</span> and H.264, as Theora is inferior for technical reasons and Flash isn’t a video codec. I don’t know if Theora’s actually standardized, but it has multiple implementations and was developed by the Xiph.Org foundation, and is the closest thing to an actual standard, short of being a product of MPEG. Theora was created from On2’s VP3 code, but was changed significantly by the Xiph.org Foundation before release, so the development history can be considered mostly open. VP8 as announced, and the bitstream was frozen shortly afterwards, leaving little community involvement. For the years before its debut as part of WebM, the format was secret, patent encumbered, and proprietary. At least now, the source code is open and people are free to do whatever they please, but the open source video community probably had very little say in the development of the codec. H.264 has an open software reference implementation, as does VP8 and Theora. Flash’s de-facto implementation is Adobe’s, which is&nbsp;proprietary.</p>
<p>The one that concerns Mozilla, Opera and Google is the distribution rights; whether or not royalties have to be paid. Notably, this is where the parallel drawn by most critics of Google’s move with H.264 and Flash comes into question. Many people believe that Flash is the epitome of evil, and proprietary software, and embodies everything wrong with proprietary software. The distribution column is arguably the most important, and it’s the one that fundamentally determines whether or not something acts as a detriment to “open innovation”. Flash animations and applications can be created and distributed without paying royalty fees to Adobe, regardless of the viewership. Innovation is still permitted as long as the distribution is free (except with changing the inner workings of the proprietary&nbsp;implementation).</p>
<h2 id="the-ambiguity-of-plugin-">The Ambiguity of&nbsp;“Plugin”</h2>
<h4 id="todo-use-this-subtitle-to-mention-random-tangential-thoughts-"><span class="caps">TODO</span>: Use this subtitle to mention random tangential&nbsp;thoughts.</h4>
<p>It seems there are lots of misconceptions about WebM, and new ones as well, because of the use of the word “plugin” by Google in their “<a href="http://blog.chromium.org/2011/01/more-about-chrome-html-video-codec.html">More about Chrome <span class="caps">HTML</span> Codec Change</a>“. Here’s what the relevant part of the post says (it’s buried into the last&nbsp;paragraph).</p>
<blockquote>
<p>This is why we’re joining others in the community to invest in WebM and encouraging every browser vendor to adopt it for the emerging <span class="caps">HTML</span> video platform (the WebM Project team will <strong>soon release plugins</strong> that enable WebM support in Safari and <span class="caps">IE9</span> via the HTML standard &lt;video&gt; tag).
Microsoft and Apple through IE9 and Safari, respectively, rely on the underlying operating system’s multimedia frameworks to handle &lt;video&gt; decoding. Chrome and Chromium bundle a customized version of the ffmpeg framework, while Opera uses gstreamer and Firefox has its own framework built on various open source codec&nbsp;libraries.</p>
<p><table></p>
<p><tbody></p>
<p><tr></p>
<p><th>Browser</th></p>
<p><th>WebM</th></p>
<p><th>H.264</th></p>
<p><th>Theora</th></p>
<p><th>Anything Imaginable</th>
</tr></p>
<p><tr></p>
<p><td><strong>Firefox</strong></td></p>
<p><td style="background-color: #99cc00;">Version 4</td></p>
<p><td style="background-color: #ff9999;">Never</td></p>
<p><td style="background-color: #99cc00;">Version 3.5</td></p>
<p><td style="background-color: #ff9999;">Never</td>
</tr></p>
<p><tr></p>
<p><td><strong>Chrome</strong></td></p>
<p><td style="background-color: #99cc00;">Version 6</td></p>
<p><td style="background-color: #ff9999;">Removed in Version 10</td></p>
<p><td style="background-color: #99cc00;">Version 3</td></p>
<p><td style="background-color: #ff9999;">Never</td>
</tr></p>
<p><tr></p>
<p><td><strong>Opera</strong></td></p>
<p><td style="background-color: #99cc00;">Version 10.60</td></p>
<p><td style="background-color: #ff9999;">Never</td></p>
<p><td style="background-color: #99cc00;">Version 10.50</td></p>
<p><td style="background-color: #ff9999;">Never</td>
</tr></p>
<p><tr></p>
<p><td><strong>Safari</strong></td></p>
<p><td style="background-color: #ffff00;">QuickTime</td></p>
<p><td style="background-color: #99cc00;">Default QuickTime</td></p>
<p><td style="background-color: #ffff00;">QuickTime</td></p>
<p><td style="background-color: #99cc00;">Default QuickTime*</td>
</tr></p>
<p><tr></p>
<p><td><strong><span class="caps">IE9</span></strong></td></p>
<p><td style="background-color: #ffff00;">Windows Media</td></p>
<p><td style="background-color: #99cc00;">Default Windows Media</td></p>
<p><td style="background-color: #ffff00;">Windows Media</td></p>
<p><td style="background-color: #99cc00;">Default Windows Media<em></td>
</tr>
</tbody>
</table>
_</em> Well, not really <em>anything</em> imaginable, but a lot of&nbsp;them_</p>
</blockquote>
<p>QuickTime and Windows Media are pluggable multimedia frameworks. And since Safari and <span class="caps">IE9</span> use them for &lt;video&gt; support, any codec or container format supported by the respective frameworks, works in the browser. For QuickTime, the list for videos goes along the lines of 3GP, Apple Video, AVI, DV, Cinepak, H.261, H.262, H.263, H.264, Microsoft Video 1, MPEG-1, MPEG-4 Part 2, Motion JPEG, Pixlet, Planar RGB, Sorenson Video, Qtch, QuickTime Movie, and QuickTime VR. But these media frameworks are <em>pluggable</em>, which means they play whatever codecs are installed. It just happens that those codecs listed above are plugins that are installed <em>by default</em>, somewhat analogous to how Google Chrome bundles Flash. The plugin frameworks for multimedia don’t treat plugins <em>any</em> different from “native” codecs. There’s absolutely no way to tell the difference from a user perspective. Right clicking a video will give you the same ordinary context&nbsp;menu.</p>
<p>Codec packs are often installed by users anyway. A codec pack consists of a set of plugins for the operating system’s multimedia framework. Once one of those codecs are installed to the system, support is available to the applications that rely on the <span class="caps">OS</span>’s framework: QuickTime Player, Windows Media Player, IE9 and&nbsp;Safari.</p>
<p>Notably absent are the Opera, Chrome and Firefox browsers that ignore whatever is installed, to use their own bundled decoders. There’s a reason for this, and it’s pretty easy to spot. Firefox, Chrome and Opera are also the only ones on the list that aren’t tied to a specific operating system, and bundling your own media framework lets you keep the functionality consistent. <span class="caps">IE</span> and Safari aren’t cross platform. Well, Safari works on Windows, but it still requires QuickTime for Windows to be installed to play the video&nbsp;content.</p>
<p>You also don’t want all the other video codecs thrown into the mix. Standards are about <em>standardization</em>, where you have a limited number of codecs instead of an entire forest of them. This brings us to a bit of <em>History</em>, I’ll begin with the olden days. I can’t tell you too much, as much of the first section happened when I was 6 years old- and certainly wasn’t into the negative user experience of platform-specific multimedia&nbsp;plugins.</p>
<h2 id="a-brief-history-of-stuff-named-a-brief-history-">A Brief History of Stuff Named “A Brief&nbsp;History…”</h2>
<h4 id="uh-i-mean-video-on-the-web-">Uh… I mean, Video on the&nbsp;Web.</h4>
<p>Before the popularity of <span class="caps">HTML5</span> Video, or event Flash, video was viewed on the web using the RealVideo, MPlayer, VLC, Windows Media Player, and Quicktime <em>Plugins</em>. Note that pretty little plugins aren’t plugins to the underlying multimedia frameworks: these are the nasty type of plugins that Flash is among. They’re the plugins that take a long time to load, have interfaces that never look like the surrounding page or browser, only work on certain operating systems, at best, inconsistently. This is the epitome of what standardization is meant to prevent, and the distillation of everything that’s wrong with plugin based&nbsp;video.</p>
<p>Flash’s popularity (probably thanks to YouTube), brought a semblance of <em>standardization</em> to the industry. Video on the web was delivered through the flv container, encoded either with Sorenson Spark or, in later versions of Flash, On2’s <span class="caps">VP6</span>. A while later, H.264/AVC which was later added to Flash, and as the superior codec, most people switched to that and FLV is slowly fading&nbsp;away.</p>
<p><span class="caps">HTML5</span> video became popular recently. I’ll say it’s probably because of iOS, since that’s the only way to get web video to play there and the rest of the aggressive marketing that Apple does. This brings us to <em>today </em>(or at least the general time period of early January 2011 in which I’m writing this post in). Google has just announced it’s intention to remove H.264 from an upcoming revision of the Chrome browser (much like how the Chromium browser <em>never</em> supported H.264). And everyone on the internet that cares enough to say a word is going insane. Which brings us back to the last section, about how Safari and <span class="caps">IE9</span> use the operating system’s underlying multimedia frameworks and how all the other browsers (Firefox/Chrome/Opera) that work on my beloved operating system (Linux) bundle their&nbsp;own.</p>
<p>If Firefox, Chrome and Opera used the <span class="caps">OS</span>’s media frameworks, we would be set back into the dark ages when people used every video codec imaginable and nobody would be happy. Standards exist for <em>consistency</em>, and it would be terrible if people started to go on a cost saving measure to never again transcode video, and serve it straight from the server’s filesystem as <span class="caps">AVI</span> files containing DV or god forbid MJPEG (the same format the users’s uploaded!) because all the Safaris and IE9s could play it fine. The fact Firefox, Chrome and Opera bundle their own multimedia frameworks forbids the possibility of this, because those browsers (in the forseeable future) will <em>never</em> support anything other than WebM, Theora and potentially&nbsp;H.264.</p>
<h2 id="there-s-more-to-h-264-than-just-h-264">There’s more to H.264 than just&nbsp;H.264</h2>
<h4 id="this-part-doesn-t-make-much-sense-">This part doesn’t make much&nbsp;sense.</h4>
<p>Often, the argument against <span class="caps">VP8</span> is that it’s inferior to the H.264 codec, and to me, this seems like the most ideologically valid concern. But in a lot of cases, it stems from a misunderstanding of how H.264 works. H.264 is not a single video codec (not even to mention multimedia container formats), but rather has several <em>Profiles</em> that work on different devices and implementations. Rarely are videos encoded only in <span class="caps">MPEG</span>-4/AVC H.264 Extended Profile at 1080p and 60fps. Go on the Apple store and you’ll see that every iPod device you can find (including the iPhone), includes what video codecs are supported. And it doesn’t just say H.264, but rather, something much more wordy&nbsp;like</p>
<blockquote>
<p>Video formats supported: H.264 video up to 720p, 30 frames per second, Main Profile level 3.1 with <span class="caps">AAC</span>-LC audio up to 160 Kbps, 48kHz, stereo audio in .m4v, .mp4, and .mov file formats
For the insanely great <a href="http://www.apple.com/iphone/specs.html">iPhone 4</a>. Google is meaner and doesn’t make the information about profile support on the Nexus S quite as accessible (though it’s not the only reason I’m an iPhone user), but it should be safe to assume it’s something along the lines of what the iPhone 4 supports. The<a href="http://www.apple.com/ipodclassic/specs.html"> iPod Classic</a> has a nice, even longer string, that represents even less support for H.264:
H.264 video, up to 1.5 Mbps, 640 by 480 pixels, 30 frames per second, Low-Complexity version of the H.264 Baseline Profile with <span class="caps">AAC</span>-LC audio up to 160 Kbps, 48kHz, stereo audio in .m4v, .mp4, and .mov file formats; H.264 video, up to 2.5 Mbps, 640 by 480 pixels, 30 frames per second, Baseline Profile up to Level 3.0 with AAC-LC audio up to 160 Kbps, 48kHz, stereo audio in .m4v, .mp4, and .mov file formats;
This is because very few devices can actually utilize all the great features that H.264 defines. Wikipedia has <a href="http://en.wikipedia.org/wiki/H.264/MPEG-4_AVC#Profiles">a nice pretty chart</a>. So the point of all of this is to say, even though <span class="caps">VP8</span> is inferior to H.264 from a purely technical standpoint, you probably can’t just use the Main or Extended profiles to support all the devices that “support H.264”. Does this invalidate the inferiority argument? Nope. Dark Shikari <a href="http://x264dev.multimedia.cx/archives/377">said</a> “I expect <span class="caps">VP8</span> to be more comparable to VC-1 or H.264 Baseline Profile than with H.264”. But the large number of devices that support H.264 might actually only support the baseline&nbsp;profiles.</p>
</blockquote>
<h2 id="my-hopeless-ideals">My Hopeless&nbsp;Ideals</h2>
<h4 id="better-be-blunt-with-what-will-probably-never-happen-">Better be blunt with what will probably never&nbsp;happen.</h4>
<p><span class="caps">VP8</span> is a bit worse than H.264, and had it been a patent encumbered video format, there would be almost no reason to prefer it over AVC. The &lt;video&gt; part of the HTML5 specification&nbsp;states:</p>
<blockquote>
<p>It would be <strong>helpful for interoperability if </strong>all browsers could support the same codecs. However, there are no known codecs that satisfy all the current players: <strong>we need a codec that is known to not require per-unit or per-distributor licensing</strong>, that is <strong>compatible with the open source</strong> development model, that is of <strong>sufficient quality</strong> as to be usable, and that is not an additional <strong>submarine patent</strong> risk for large companies. This is an ongoing issue and this section will be updated once more information is available
The only major codecs that are royalty free are Theora and <span class="caps">VP8</span>, and the former probably isn’t of sufficient quality. Both of them come with patent risks (or at least that’s what MPEG-LA wants people to believe), leaving a set of zero acceptable codecs. For this to work at all, something needs to be&nbsp;compromised.</p>
</blockquote>
<p>H.264 defines a baseline profile that all decoders could be reasonably expected to handle. Such a profile exists so that the video can be viewed, albeit with inferior compression on a variety of devices and platforms with limited computational ability. The internet was built on interoperability, and <span class="caps">HTML5</span> needs an equivalent “baseline codec” for the web. Something that compresses video at sufficient, though not bleeding-edge quality. Something that can be implemented and distributed openly on all&nbsp;platforms.</p>
<p>For <span class="caps">HTML5</span> &lt;audio&gt;, nearly all browsers implement the basic WAV codec. It serves as an acceptable baseline for small snippets of audio to be played in a cross-brower manner. It’s usually uncompressed, and for most applications, inferior to MP3 and Vorbis. &lt;video&gt; needs similar treatment. That niche is, at this time, best filled by WebM/VP8. If Apple and Microsoft were to add support for the WebM format, it would only improve the environment for open innovation. H.264 can be considered the “bleeding-edge” codec, heck, they could even add HEVC/H.265 to set off an environment of useful competition (or not). But a “baseline codec” should be established first. Something that publishers can encode their videos in, so that any modern browser can&nbsp;view.</p>
<p>Right now, the discussion has been polarized between free software advocates who often seek to eradicate proprietary or patent-encumbered ideas from the face of reality and those who hold a disregard for the open source values. This way of thinking, and of treating innovation is profoundly dangerous for both the free software community and the patent-creators. The free software community can not afford to be constantly twenty years behind the times in terms of innovation (especially if you subscribe to the law of accelerating returns), and the patent-creators can’t afford for the free software community to involved in actively foiling their innovations. It’s truly great what <span class="caps">MPEG</span> has done, and it’s terrible that such a controversy exists around its adoption. The best scenario would be for MPEG or the ISO standards bodies to eliminate royalties. The fact multiple industries can agree upon a single, high quality, interoperable codec should be enough of a market and innovation advantage to waive the relatively nominal money from&nbsp;licensing.</p>
<p>Will this actually happen? I doubt it. Apple seems firmly invested in the success of H.264. Microsoft may be more willing to add <span class="caps">VP8</span> support if and when the format gains popularity (and especially if Google adds patent indemnification just so they can see a lawsuit made). Mozilla will likely never compromise on principle and Opera might add AVC one day. Given the huge backlash, Google’s the most likely to revert its opinion and add AVC back into Chrome in a future release. Yay for hopeless idealism! And since I’m espousing hypothetical and impossible ideas anyway, why not vouch for reform of the U.S. patent system as well? If you think of it, the fact it’s such a controversy and that people need to use an inferior product in order to innovate, that smacks in the face of the very Article 1, Section 8, Clause 8 of the United States&nbsp;Constitution:</p>
<blockquote>
<p>To promote the Progress of Science and useful Arts, by securing for limited Times to Authors and Inventors the exclusive Right to their respective Writings and Discoveries.
And this ends what may be the longest blog post I’ve ever written, revised three times. If you’ve actually read this through, please consider commenting or sending me a tweet at <a href="http://twitter.com/antimatter15">@antimatter15</a> (or following me, that would be great!). Also, if I’m misinformed, please inform me and I <em>might</em> revise this yet&nbsp;again.</p>
</blockquote>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2010/12/drag2up-2-0-drag-and-drop-uploading-for-all-sites/">drag2up 2.0 - drag and drop uploading for all sites</a> <span class="subtitle">26 December 2010</span></h2>
            </header>
            <section class="content"><p><a href="/articles/2010/drag2up%202.0%20-%20drag%20and%20drop%20uploading%20for%20all%20sites/Screenshot-6.png"><img src="/articles/2010/drag2up%202.0%20-%20drag%20and%20drop%20uploading%20for%20all%20sites/Screenshot-6.png" alt="" title="drag2up firefox dragging twitter"></a><a href="/articles/2010/drag2up%202.0%20-%20drag%20and%20drop%20uploading%20for%20all%20sites/Selection_004.png"><img src="/articles/2010/drag2up%202.0%20-%20drag%20and%20drop%20uploading%20for%20all%20sites/Selection_004.png" alt="" title="drag2up settings chrome"></a></p>
<p>drag2up was a <a href="/2010/12/drag2up-2-0-drag-and-drop-uploading-for-all-sites/2010/10/drag2up-drag-files-onto-any-site/">browser extension I built a few months ago</a>, and recently bumped it up to 2.0. The basic idea is to use <span class="caps">HTML5</span> File API and the drag/drop integration that <strong>Chrome and Firefox</strong> implements to enable uploads to any website by<a href="http://www.youtube.com/watch?v=DBqxmO-ZrDY"> simply dragging and dropping</a> the file from your computer onto the respective site. Instead of the trouble of opening a new tab, navigating to your favorite file provider, waiting for it to load, pressing the browse button, navigating to the folder with your image, pressing “Open”, then hitting the submit button, waiting for the upload to finish, copy the link, find the original tab among the mess of tabs that fills your tab bar and finally scrolling down, selecting the box and pasting the <span class="caps">URL</span>. All to share a three megabyte file. drag2up streamlines the process into a single, swift gesture where you drag the file onto the text entry field. The link is instantly added while the file is being <strong>uploaded in the background</strong>. If someone navigates to the link before it’s done uploading, the page uses the Google App Engine Channel <span class="caps">API</span> to stream <strong>real time</strong> upload&nbsp;status.</p>
<p>It still has a pretty simple user interface that works with <strong>zero initial setup</strong>. In addition to using gist and imgur for text files and image uploading respectively, it includes many additional services, configurable through a simple drag and drop interface. The new version also sports Firefox&nbsp;support.</p>
<p><strong>New&nbsp;Features</strong></p>
<ul>
<li>Firefox +&nbsp;Chrome</li>
<li>Background&nbsp;Uploading</li>
<li>imgur, imm.io,&nbsp;ImageShack</li>
<li>Flickr,&nbsp;Picasa</li>
<li>gist, pastebin,&nbsp;mysticpaste</li>
<li>Chemical Servers, <span class="caps">DAFK</span>,&nbsp;Hotfile</li>
<li>Dropbox,&nbsp;CloudApp</li>
<li>Built in <span class="caps">URL</span> shorteners
Right now, the only service that doesn’t quite work is Dropbox. The application hasn’t been approved for production status yet. And a number of the hosts do not work with Chrome 8 because of typed arrays and binary XHR&nbsp;issues.</li>
</ul>
<p><a href="http://drag2up.appspot.com"><strong>Try out</strong> the extension now  :)</a> I would really appreciate any and all&nbsp;feedback.</p>
<p><a href="/articles/2010/drag2up%202.0%20-%20drag%20and%20drop%20uploading%20for%20all%20sites/64cool.png"><img src="/articles/2010/drag2up%202.0%20-%20drag%20and%20drop%20uploading%20for%20all%20sites/64cool.png" alt="" title="64cool"></a></p>
<p><strong>Technical&nbsp;Information</strong></p>
<p>There’s some pretty cool stuff going on in the new release. This release is really close to the bleeding edge of what’s capable on the web and with browsers. On Chrome, to upload files, the multipart/form-data xhr is being pieced together with array buffers and typed arrays, stuff from the <strong>WebGL</strong> specification. The Firefox version is based on the latest beta release of <strong>Mozilla Jetpack</strong> (hacked slightly so that the resulting xpi works with 3.6 as well as 4.0). Transferring data between the background page and the individual content scripts (or pageMods in Jetpack’s terms) is done with the createBlobURL (also called createObjectURL) function and binary XMLHttpRequest. On older versions of Firefox, FileReader is used to load files into base64 encoded data urls. Inter-frame communication is done with postMessage and native <span class="caps">JSON</span> serialization and parsing functions.  Picasa and Dropbox support are built on Javascript implementations of OAuth (based on <a href="https://github.com/bslatkin/clip-it-good">Clip It Good</a> and <a href="https://github.com/kenotron/chromepad">Chromepad</a>). So, yeah, there’s lots of new and super cool stuff in&nbsp;there.</p>
<p>The content script was more or less rewritten in order to support Gmail, which led to some interesting design changes. Firstly, the new version establishes a sort of hierarchy, a difference between a root frame and the most subordinated one. Each drag event is sent to the top using postMessage, where the root frame decides whether or not to render the targets or to remove them. Once the decision is made, it <a href="https://github.com/antimatter15/drag2up/blob/master/data/drag2up.js#L108">trickles downward</a> to each of it’s immediate frames and then trickles back down to each subordinate frame. Whenever a frame is created, a loop detects that one has been added and attempts to access it’s <span class="caps">DOM</span> in order to insert a script element that initializes the code. Interestingly, content scripts (in chrome) are unable to access the child frames so a script needs to be inserted into the immediate page in order to insert a script into a child page. The scripts also set document.__drag2up to ensure there aren’t any frames that load themselves twice (interestingly creating an event and dispatching it seeing if there’s a event listener that does preventDefault isn’t a reliable indicator. I wanted to ideally create a system that was mostly undetectable by the parent page, but eventually settled for this simpler and more reliable&nbsp;implementation).</p>
<p>Once the “trickle_reactivate” message (every message happens to be eighteen characters, because  of certain really weird design ideas) is recieved by all the frames, they loop through all the elements on the page, searching for elements that meet the isDroppable criteria. It does not trigger on elements who have a width*height &lt; 100, so no really tiny boxes. It needs to be an input element type text or textarea that isn’t read only or disabled, or it needs to be an element whose contents are editable. Then it checks the positioning of the element using the document.elementFromPoint function twice (one accounting for scrolling and one that doesn’t to differentiate fixed positioning from others). The drop target is a div with a massive style attribute. It has rounded corners, css transitions and is positioned either absolutely or fixed based on the positioning of the associated input element. It’s centered around the element or completely covers it for smaller areas. When the user hovers over it, the opacity changes (the behavior is actually reversed from the last version). The original version faded out slightly when hovered over, which, after some thought, I realized made no sense. Similar to the drop target is a purple settings box on the lower right corner. I’m actually quite displeased with it. It’s not a great user experience, but at least it’s noticable. Primarily, it was added because I have no idea how to get the Preferences button to work with Jetpack and Google manages to bury the Options button somewhere deep within the depths of Chrome’s single&nbsp;menu.</p>
<p>Once the file is dropped, the content script decides whether it was a file that was dropped or an image that was dropped from some other page. If it’s an image (because that’s the simpler case to deal with), it does something that’s actually slightly counterintuitive. Using getData(‘text/uri-list’) isn’t reliable as in many cases, the image is wrapped in a link tag and that only gives the link <span class="caps">URL</span> instead of that image. So instead, it reads text/html and inserts it into a temporary div and pulls out the source attribute which is then sent to the background page. If the thing that was dropped is a file, first, it checks if the browser supports one of the Blob URI creation methods and if that’s available, it uses that to create a URL. If not, the file is read using FileReader as a base64 encoded data url and sent to the background page. But not immediately, because often the script is running in an unprivledged environment, so it does a postMessage to the topmost parent which should be privileged. The privileged content script sends the message to the even more privileged background page that initiates the actual uploading&nbsp;process.</p>
<p>Before going into what the background page actually does, there’s the settings page. I’m actually pretty proud of how it turned out. With the large number of hosts that are supported, I needed a way for the user to select hosts for different types of files. I could have used select boxes, but they’re not generally great when dealing with image based concepts, because a company’s logo is often more recognizable than the name (odd that I’m saying that, seeing as this blog has neither a distinctive name nor even a favicon). So instead, I built this little grid where the user can drag hosts into boxes on the right. It’s made with jQuery <span class="caps">UI</span>, because I don’t particularly like the API’s provided in&nbsp;HTML5.</p>
<p>The background page handles the uploading. Basically, there’s a bunch of javascript files that are loaded into it. The hardest part was by far, OAuth. If anything, this project has only refined my dislike of OAuth. And because this post is already insanely long, I’ll go and rant about the problems of OAuth anyway. There’s already<a href="http://arstechnica.com/security/guides/2010/09/twitter-a-case-study-on-how-to-do-oauth-wrong.ars"> a great article on how terrible of an idea</a> it is for OAuth to be used in any application that runs code on the client. But Photobucket, Picasa and Dropbox still don’t understand that (or don’t care) and only provide OAuth. But that’s not really a problem, I just hate OAuth because even though It’s a standard, each service provider has some little quirks that take hours to debug and ends up being extremely frustrating. Maybe the OAuth gods are angry with me or something, but it’s incredibly&nbsp;troublesome.</p>
<p><a href="http://drag2up.appspot.com">Try out the extension now  :)</a> I would really appreciate any and all&nbsp;feedback.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2010/12/ajax-animator-on-chrome-web-store/">Ajax Animator on Chrome Web Store</a> <span class="subtitle">07 December 2010</span></h2>
            </header>
            <section class="content"><p><a href="https://chrome.google.com/webstore/detail/ginffkjapdobanedcblllenliboglpkp"><img src="/articles/2010/Ajax%20Animator%20on%20Chrome%20Web%20Store/ajaxwebstore.png" alt=""></a></p>
<p>So now that the chrome web store has launched, <a href="https://chrome.google.com/webstore/detail/ginffkjapdobanedcblllenliboglpkp">it’s there</a>. You can use it offline and it stores progress with&nbsp;localStorage.</p>

            </section>
          </article>
          <hr>
          <article class="article intro">
            <header>
              <h2><a href="/2010/11/digital-sculpting-with-three-js/">Digital Sculpting with Three.JS</a> <span class="subtitle">23 November 2010</span></h2>
            </header>
            <section class="content"><p><a href="http://dl.dropbox.com/u/1024307/3d-sculpt/sculpt.html"><img src="/articles/2010/Digital%20Sculpting%20with%20Three.JS/download.png" alt="" title="download"></a></p>
<p>The above testament to my artistic ability, or specifically my lack thereof, was made in my experiment with digital sculpting, <a href="/2010/11/digital-sculpting-with-three-js/2010/09/3d-sculpting-tool/">technically, part <span class="caps">II</span></a>. Wikipedia&nbsp;says</p>
<blockquote>
<p><strong>Digital sculpting</strong> is the use of software that offers tools to push, pull, smooth, grab, pinch or otherwise manipulate a digital object as if it were made of a real-life substance such as clay.
I saw<a href="http://lifehacker.com/5607134/sculptris-is-a-user+friendly-3d-modeling-and-sculpting-program"> this Lifehacker article </a>on sculptris a few months ago and it sort of made an impression on me of how cool and awesome 3d was. Any real program is of course much different and better than this one because of the ability to actually grab, smooth and pinch the digital&nbsp;object.</p>
</blockquote>

            </section>
          </article>
          <hr>
          <div class="nav"><a href="/page/12/" class="newer">« Newer</a><a href="/page/14/" class="next">Next page »</a>
          </div>
        </div>
      </div>
    </div>
    <script>
      function squish(){
        document.getElementById("squishfoot").className += "squish"
      }
    </script>
    <style>
      .squish { font-size: 9px }
      .squishsquish { font-size: 8px }
      .squishsquishsquish { font-size: 7px }
      .squishsquishsquishsquish { font-size: 6px }
      .squishsquishsquishsquishsquish { font-size: 5px }
      .squishsquishsquishsquishsquishsquish { font-size: 4px }
      .squishsquishsquishsquishsquishsquishsquish { visibility: hidden }
    </style>
    <div class="graybar bottom">
      <footer>
        <div id="squishfoot">I'm a tiny footer, please don't <a href="javascript:squish()">squish</a> me</div>
      </footer>
    </div>
  </body>
</html>